Index: app/src/main/java/com/example/dsmabsen/ui/fragment/AllMenuFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.fragment\r\n\r\nimport android.os.Bundle\r\nimport android.view.*\r\nimport android.widget.ScrollView\r\nimport androidx.fragment.app.Fragment\r\nimport android.widget.Toast\r\nimport androidx.appcompat.widget.Toolbar\r\nimport androidx.core.content.ContextCompat\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.example.dsmabsen.R\r\nimport com.example.dsmabsen.databinding.FragmentAllMenuBinding\r\nimport dagger.hilt.android.AndroidEntryPoint\r\n\r\n@AndroidEntryPoint\r\nclass AllMenuFragment :BaseFragment<FragmentAllMenuBinding>(FragmentAllMenuBinding::inflate){\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        setupToolbar(\"Semua Menu\")\r\n        binding.btnReimbursement.setOnClickListener {\r\n            findNavController().navigate(R.id.action_allMenuFragment_to_reimbursementFragment)\r\n        }\r\n\r\n        view.findViewById<Toolbar>(R.id.toolbar)?.let { toolbar ->\r\n            toolbar.setOnMenuItemClickListener { menuItem ->\r\n                when (menuItem.itemId) {\r\n                    R.id.add -> {\r\n                        // Handle add menu item click\r\n                        Toast.makeText(context, \"Add di Click\", Toast.LENGTH_SHORT).show()\r\n                        true\r\n                    }\r\n                    R.id.save -> {\r\n                        // Handle navigation button click\r\n                        Toast.makeText(context, \"Save di Click\", Toast.LENGTH_SHORT).show()\r\n                        true\r\n                    }\r\n                    else -> false\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\r\n        inflater.inflate(R.menu.toolbar_menu, menu)\r\n\r\n        val menuSave = menu.findItem(R.id.save)\r\n        val menuPlus = menu.findItem(R.id.add)\r\n\r\n        menuSave?.isVisible = false // menyembunyikan menu tertentu\r\n        menuPlus?.isVisible = false // menyembunyikan menu tertentu\r\n\r\n        super.onCreateOptionsMenu(menu, inflater)\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/fragment/AllMenuFragment.kt b/app/src/main/java/com/example/dsmabsen/ui/fragment/AllMenuFragment.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/fragment/AllMenuFragment.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/fragment/AllMenuFragment.kt	(date 1678603756528)
@@ -22,7 +22,7 @@
             findNavController().navigate(R.id.action_allMenuFragment_to_reimbursementFragment)
         }
 
-        view.findViewById<Toolbar>(R.id.toolbar)?.let { toolbar ->
+//        view.findViewById<Toolbar>(R.id.toolbar)?.let { toolbar ->
             toolbar.setOnMenuItemClickListener { menuItem ->
                 when (menuItem.itemId) {
                     R.id.add -> {
@@ -38,7 +38,7 @@
                     else -> false
                 }
             }
-        }
+//        }
 
     }
     override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {
Index: app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanReimbursementFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.fragment\r\n\r\nimport android.os.Bundle\r\nimport android.view.*\r\nimport android.widget.TextView\r\nimport androidx.fragment.app.Fragment\r\nimport android.widget.Toast\r\nimport androidx.appcompat.widget.Toolbar\r\nimport androidx.fragment.app.viewModels\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.example.dsmabsen.R\r\nimport com.example.dsmabsen.databinding.FragmentPengajuanReimbursementBinding\r\nimport com.example.dsmabsen.helper.handleApiError\r\nimport com.example.dsmabsen.model.DataX\r\nimport com.example.dsmabsen.repository.NetworkResult\r\nimport com.example.dsmabsen.ui.viewModel.ReimbursementViewModel\r\nimport dagger.hilt.android.AndroidEntryPoint\r\nimport io.paperdb.Paper\r\n\r\n@AndroidEntryPoint\r\nclass PengajuanReimbursementFragment :\r\n    BaseFragment<FragmentPengajuanReimbursementBinding>(FragmentPengajuanReimbursementBinding::inflate) {\r\n\r\n    val viewModel: ReimbursementViewModel by viewModels()\r\n    val savedUser = Paper.book().read<DataX>(\"user\")\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        setHasOptionsMenu(true)\r\n        setupToolbar(\"Ajukan Reimbursement\")\r\n        view.findViewById<Toolbar>(R.id.toolbar)?.let { toolbar ->\r\n            toolbar.setOnMenuItemClickListener { menuItem ->\r\n                when (menuItem.itemId) {\r\n                    R.id.save -> {\r\n                        // Handle add menu item click\r\n                        saveReimbursement(savedUser)\r\n                        true\r\n                    }\r\n\r\n                    else -> false\r\n                }\r\n            }\r\n        }\r\n    }\r\n    override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\r\n        inflater.inflate(R.menu.toolbar_menu, menu)\r\n        val menuSave = menu.findItem(R.id.save)\r\n        val menuPlus = menu.findItem(R.id.add)\r\n\r\n        menuSave?.isVisible = true // menyembunyikan menu tertentu\r\n        menuPlus?.isVisible = false // menyembunyikan menu tertentu\r\n\r\n        val item = menu.findItem(R.id.save)\r\n        item.setActionView(R.layout.item_menu_toolbar)\r\n\r\n        val actionView = item.actionView\r\n        val btnSimpan = actionView?.findViewById<TextView>(R.id.textSimpan)\r\n        btnSimpan?.setOnClickListener {\r\n            // your code here\r\n            saveReimbursement(savedUser)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private fun saveReimbursement(savedUser: DataX?) {\r\n        viewModel.requestPengajuanReimbursement(\r\n            savedUser!!.nip,\r\n            \"1\",\r\n            binding.edtNominal.text.toString(),\r\n            \"\",\r\n            binding.edtKeterangan.text.toString()\r\n        )\r\n        viewModel.getPengajuanLiveData.observe(viewLifecycleOwner) {\r\n            when (it) {\r\n                is NetworkResult.Success -> {\r\n                    val response = it.data!!\r\n                    val status = response.status\r\n                    val statusPengajuan = response.data.status\r\n                    if (status && statusPengajuan) {\r\n                        Toast.makeText(\r\n                            requireContext(),\r\n                            \"anda berhasil mengajukan reimbursement\",\r\n                            Toast.LENGTH_SHORT\r\n                        ).show()\r\n                    } else {\r\n                        Toast.makeText(\r\n                            requireContext(),\r\n                            response.data.messages + \" Reimbursement\",\r\n                            Toast.LENGTH_SHORT\r\n                        ).show()\r\n                    }\r\n                }\r\n\r\n                is NetworkResult.Loading -> {\r\n                    Toast.makeText(requireContext(), \"Loading\", Toast.LENGTH_SHORT).show()\r\n                }\r\n\r\n                is NetworkResult.Error -> {\r\n                    handleApiError(it.message)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanReimbursementFragment.kt b/app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanReimbursementFragment.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanReimbursementFragment.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanReimbursementFragment.kt	(date 1678622408021)
@@ -1,26 +1,41 @@
 package com.example.dsmabsen.ui.fragment
 
+import DataSpinnerAdapter
 import android.os.Bundle
+import android.text.Editable
+import android.text.TextWatcher
+import android.util.Log
 import android.view.*
+import android.widget.AdapterView
 import android.widget.TextView
 import androidx.fragment.app.Fragment
 import android.widget.Toast
 import androidx.appcompat.widget.Toolbar
+import androidx.core.view.isVisible
 import androidx.fragment.app.viewModels
 import androidx.navigation.fragment.findNavController
 import com.example.dsmabsen.R
+import com.example.dsmabsen.adapter.SpinnerReimbursementAdapter
 import com.example.dsmabsen.databinding.FragmentPengajuanReimbursementBinding
 import com.example.dsmabsen.helper.handleApiError
 import com.example.dsmabsen.model.DataX
+import com.example.dsmabsen.model.DataXXXXXXXXXXXXXXXXXXXXXXX
+import com.example.dsmabsen.model.DataXXXXXXXXXXXXXXXXXXXXXXXXXXX
+import com.example.dsmabsen.model.SpinnerReimbursement
 import com.example.dsmabsen.repository.NetworkResult
 import com.example.dsmabsen.ui.viewModel.ReimbursementViewModel
 import dagger.hilt.android.AndroidEntryPoint
 import io.paperdb.Paper
+import java.math.BigDecimal
+import java.text.DecimalFormat
 
 @AndroidEntryPoint
 class PengajuanReimbursementFragment :
     BaseFragment<FragmentPengajuanReimbursementBinding>(FragmentPengajuanReimbursementBinding::inflate) {
+    private lateinit var adapter: DataSpinnerAdapter
 
+    private var selectedJenisReimbursement: DataXXXXXXXXXXXXXXXXXXXXXXXXXXX? = null
+    var kodeReimbursement2:String = ""
     val viewModel: ReimbursementViewModel by viewModels()
     val savedUser = Paper.book().read<DataX>("user")
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
@@ -40,7 +55,84 @@
                 }
             }
         }
-    }
+
+
+        binding.apply {
+
+
+            viewModel.requestSpinnerReimbursement()
+            viewModel.getSpinnerReimbursementLiveData.observe(viewLifecycleOwner) {
+                when (it) {
+                    is NetworkResult.Success -> {
+                        val response = it.data!!
+                        val data = response.data
+
+                        adapter = DataSpinnerAdapter(requireContext(), data)
+                        spinnerJenisReimbursement.adapter = adapter
+                        spinnerJenisReimbursement.onItemSelectedListener =
+                            object : AdapterView.OnItemSelectedListener {
+                                override fun onItemSelected(
+                                    parent: AdapterView<*>?, view: View?, position: Int, id: Long
+                                ) {
+                                    selectedJenisReimbursement =
+                                        parent?.getItemAtPosition(position) as DataXXXXXXXXXXXXXXXXXXXXXXXXXXX
+
+                                    kodeReimbursement2 = selectedJenisReimbursement!!.kode_reimbursement
+                                    Toast.makeText(requireContext(), kodeReimbursement2, Toast.LENGTH_SHORT).show()
+                                    sendData(kodeReimbursement2)
+                                    Log.d(
+                                        "TAG",
+                                        "onItemSelected: ${selectedJenisReimbursement!!.kode_reimbursement} "
+                                    )
+//                                    Toast.makeText(
+//                                        context,
+//                                        selectedJenisReimbursement!!.kode_reimbursement,
+//                                        Toast.LENGTH_SHORT
+//                                    ).show()
+                                }
+
+                                override fun onNothingSelected(p0: AdapterView<*>?) {
+                                    selectedJenisReimbursement = null
+                                }
+
+                            }
+                    }
+
+                    is NetworkResult.Loading -> {
+                        Toast.makeText(requireContext(), "Loading", Toast.LENGTH_SHORT).show()
+                    }
+
+                    is NetworkResult.Error -> {
+                        handleApiError(it.message)
+                    }
+                }
+            }
+
+//            btnCek.isVisible = !(kodeReimbursement2 == "" || kodeReimbursement2.isEmpty())
+
+            btnCek.setOnClickListener {
+                if (selectedJenisReimbursement == null) {
+                    Toast.makeText(
+                        requireContext(),
+                        "Pilih jenis reimbursement terlebih dahulu",
+                        Toast.LENGTH_SHORT
+                    ).show()
+                } else {
+                    val kodeReimbursement = selectedJenisReimbursement?.kode_reimbursement
+                    Log.d("kodeReimbursement", kodeReimbursement2!!)
+
+                }
+            }
+        }
+    }
+
+    private fun sendData(kodeReimbursement2: String) {
+        binding.btnCek.setOnClickListener {
+            Log.d("kodeReimbursement2", kodeReimbursement2)
+            Log.d("rupiah", binding.edtNominal.text.toString())
+        }
+    }
+
     override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {
         inflater.inflate(R.menu.toolbar_menu, menu)
         val menuSave = menu.findItem(R.id.save)
Index: app/src/main/res/layout/fragment_pengajuan_reimbursement.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:padding=\"@dimen/_20sdp\"\r\n    android:background=\"@drawable/gradiend_background\"\r\n    tools:context=\".ui.fragment.PengajuanReimbursementFragment\">\r\n\r\n    <include\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:id=\"@+id/toolbar\"\r\n        layout=\"@layout/toolbar_layout\"/>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/rv_nama_reimbursement\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"@dimen/_90sdp\"\r\n        android:paddingVertical=\"@dimen/_10sdp\"\r\n        android:paddingHorizontal=\"@dimen/_15sdp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/toolbar\"\r\n        android:background=\"@drawable/rounded_menu\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/label_jenis_izin\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Jenis Reimbursement\"\r\n            android:fontFamily=\"@font/poppins_bold\"\r\n            android:textSize=\"@dimen/_11ssp\"\r\n            android:textColor=\"@color/black_text\"/>\r\n\r\n        <Spinner\r\n            android:id=\"@+id/spinner_jenis_reimbursement\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"@dimen/_47sdp\"\r\n            android:background=\"@drawable/rounded_menu\"\r\n            android:layout_below=\"@+id/label_jenis_izin\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:dropDownSelector=\"@drawable/arrow_bottom\"\r\n            android:paddingHorizontal=\"@dimen/_10sdp\"\r\n            android:paddingVertical=\"@dimen/_15sdp\"\r\n            android:textAlignment=\"textEnd\"\r\n            />\r\n\r\n    </RelativeLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/rv_nominal\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingVertical=\"@dimen/_10sdp\"\r\n        android:paddingHorizontal=\"@dimen/_15sdp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_nama_reimbursement\"\r\n        android:background=\"@drawable/rounded_menu\"\r\n        android:layout_marginTop=\"@dimen/_10sdp\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/label_tanggal_mulai\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Tanggal Mulai\"\r\n            android:fontFamily=\"@font/poppins_bold\"\r\n            android:textSize=\"@dimen/_11ssp\"\r\n            android:textColor=\"@color/black_text\"/>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"@dimen/_47sdp\"\r\n            android:background=\"@drawable/rounded_menu\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:orientation=\"horizontal\"\r\n            android:layout_below=\"@+id/label_tanggal_mulai\"\r\n            android:paddingHorizontal=\"@dimen/_10sdp\"\r\n            android:gravity=\"center_vertical\">\r\n\r\n            <TextView\r\n                android:layout_weight=\"12\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:fontFamily=\"@font/poppins_regular\"\r\n                android:text=\"Rp.\"\r\n                android:textColor=\"@color/_dark\"\r\n                android:textSize=\"@dimen/_12sdp\"\r\n                android:layout_marginEnd=\"@dimen/_10sdp\"/>\r\n\r\n            <EditText\r\n                android:layout_weight=\"2\"\r\n                android:id=\"@+id/edtNominal\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"@dimen/_47sdp\"\r\n                android:fontFamily=\"@font/poppins_light\"\r\n                android:textSize=\"@dimen/_12sdp\"\r\n                android:background=\"@null\"\r\n                android:textAlignment=\"textEnd\"\r\n                android:hint=\"0\"/>\r\n\r\n        </LinearLayout>\r\n\r\n    </RelativeLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/rv_keterangan_perizinan_create\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"@dimen/_152sdp\"\r\n        android:paddingVertical=\"@dimen/_10sdp\"\r\n        android:paddingHorizontal=\"@dimen/_15sdp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_nominal\"\r\n        android:background=\"@drawable/rounded_menu\"\r\n        android:layout_marginTop=\"@dimen/_10sdp\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/label_keterangan\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Keterangan\"\r\n            android:fontFamily=\"@font/poppins_bold\"\r\n            android:textSize=\"@dimen/_11ssp\"\r\n            android:textColor=\"@color/black_text\"/>\r\n\r\n        <EditText\r\n            android:id=\"@+id/edtKeterangan\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"@dimen/_109sdp\"\r\n            android:background=\"@drawable/rounded_menu\"\r\n            android:layout_below=\"@+id/label_keterangan\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:dropDownSelector=\"@drawable/arrow_bottom\"\r\n            android:paddingHorizontal=\"@dimen/_10sdp\"\r\n            android:paddingVertical=\"@dimen/_15sdp\"\r\n            android:lines=\"4\"\r\n            android:textAlignment=\"textEnd\"/>\r\n\r\n    </RelativeLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btnKirim\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"72dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:text=\"Kirim\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_keterangan_perizinan_create\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_pengajuan_reimbursement.xml b/app/src/main/res/layout/fragment_pengajuan_reimbursement.xml
--- a/app/src/main/res/layout/fragment_pengajuan_reimbursement.xml	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/res/layout/fragment_pengajuan_reimbursement.xml	(date 1678622761797)
@@ -1,5 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
-<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<androidx.constraintlayout.widget.ConstraintLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
@@ -87,6 +88,7 @@
 
             <EditText
                 android:layout_weight="2"
+                android:inputType="number"
                 android:id="@+id/edtNominal"
                 android:layout_width="match_parent"
                 android:layout_height="@dimen/_47sdp"
@@ -130,6 +132,7 @@
             android:paddingHorizontal="@dimen/_10sdp"
             android:paddingVertical="@dimen/_15sdp"
             android:lines="4"
+            android:imeOptions="actionDone"
             android:textAlignment="textEnd"/>
 
     </RelativeLayout>
@@ -145,4 +148,14 @@
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintTop_toBottomOf="@+id/rv_keterangan_perizinan_create" />
 
+    <Button
+        android:id="@+id/btnCek"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Button"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toStartOf="@+id/btnKirim"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/rv_keterangan_perizinan_create" />
+
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'org.jetbrains.kotlin.android'\r\n//    id 'kotlin-android-extensions'\r\n    id 'kotlin-kapt'\r\n    id 'dagger.hilt.android.plugin'\r\n    id \"androidx.navigation.safeargs.kotlin\"\r\n}\r\n\r\nandroid {\r\n    namespace 'com.example.dsmabsen'\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.dsmabsen\"\r\n        minSdk 22\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = '1.8'\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation 'androidx.core:core-ktx:1.7.0'\r\n    implementation 'androidx.appcompat:appcompat:1.6.1'\r\n    implementation 'com.google.android.material:material:1.8.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\r\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\r\n    testImplementation 'junit:junit:4.13.2'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\r\n\r\n    //    Navigation\r\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.5.3'\r\n    implementation 'androidx.navigation:navigation-ui-ktx:2.5.3'\r\n\r\n//    Retrofit\r\n    implementation platform(\"com.squareup.okhttp3:okhttp-bom:4.10.0\")\r\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\r\n    implementation 'com.squareup.retrofit2:converter-gson:2.6.0'\r\n    implementation \"com.squareup.okhttp3:logging-interceptor:4.10.0\"\r\n    implementation 'com.squareup.okhttp3:okhttp:4.10.0'\r\n    implementation \"com.squareup.retrofit2:converter-moshi:2.4.0\"\r\n\r\n//  Dagger + Hilt\r\n    implementation \"com.google.dagger:hilt-android:2.38.1\"\r\n    kapt \"com.google.dagger:hilt-android-compiler:2.38.1\"\r\n    implementation \"androidx.hilt:hilt-lifecycle-viewmodel:1.0.0-alpha03\"\r\n    kapt \"androidx.hilt:hilt-compiler:1.0.0\"\r\n\r\n    // Coroutines\r\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.6'\r\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1'\r\n    implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1\"\r\n    implementation \"androidx.lifecycle:lifecycle-extensions:2.2.0\"\r\n\r\n//    Room\r\n    def room_version = \"2.4.3\"\r\n    implementation \"androidx.room:room-runtime:2.4.3\"\r\n    implementation \"androidx.room:room-ktx:2.4.3\"\r\n    kapt \"androidx.room:room-compiler:2.4.3\"\r\n\r\n//    LifeCycle\r\n    implementation \"androidx.lifecycle:lifecycle-livedata-ktx:2.5.1\"\r\n    implementation \"androidx.lifecycle:lifecycle-runtime-ktx:2.5.1\"\r\n    implementation \"androidx.lifecycle:lifecycle-extensions:2.2.0\"\r\n\r\n\r\n//    Rounded image\r\n    implementation 'com.makeramen:roundedimageview:2.3.0'\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n    implementation 'com.facebook.shimmer:shimmer:0.5.0'\r\n\r\n    //    Glide library\r\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\r\n\r\n    //    Qr scanner\r\n    implementation 'com.github.yuriy-budiyev:code-scanner:2.3.2'\r\n\r\n//    Check Internet\r\n    implementation 'com.github.raheemadamboev:check-internet-android:1.1.1'\r\n\r\n    //    Qr scanner\r\n    implementation 'com.github.yuriy-budiyev:code-scanner:2.3.2'\r\n\r\n//    ui responsive\r\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\r\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\r\n\r\n    implementation 'com.facebook.shimmer:shimmer:0.5.0@aar'\r\n\r\n//    Paper Db\r\n    implementation 'io.github.pilgr:paperdb:2.7.2'\r\n\r\n//    MpChart\r\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\r\n\r\n//    DateTime under api 26\r\n    implementation 'com.jakewharton.threetenabp:threetenabp:1.3.0'\r\n\r\n//    Loading\r\n    implementation 'com.github.ybq:Android-SpinKit:1.4.0'\r\n    implementation 'com.airbnb.android:lottie:4.2.0'\r\n\r\n//    Location\r\n    implementation 'com.google.android.gms:play-services-location:21.0.1'\r\n\r\n//    flex box\r\n    implementation 'com.google.android.flexbox:flexbox:3.0.0'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/build.gradle	(date 1678621799187)
@@ -128,4 +128,9 @@
 
 //    flex box
     implementation 'com.google.android.flexbox:flexbox:3.0.0'
+
+    implementation "com.android.volley:volley:1.2.0"
+
+    implementation 'com.github.BlacKCaT27:CurrencyEditText:2.0.2'
+
 }
\ No newline at end of file
Index: app/src/main/java/com/example/dsmabsen/ui/fragment/HomeFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.fragment\r\n\r\nimport android.Manifest\r\nimport android.app.Activity\r\nimport android.content.Intent\r\nimport android.content.pm.PackageManager\r\nimport android.graphics.Bitmap\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.provider.MediaStore\r\nimport android.util.Log\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Toast\r\nimport androidx.activity.result.contract.ActivityResultContracts\r\nimport androidx.appcompat.app.AlertDialog\r\nimport androidx.core.app.ActivityCompat\r\nimport androidx.core.content.ContextCompat\r\nimport com.example.dsmabsen.R\r\nimport com.example.dsmabsen.databinding.FragmentHomeBinding\r\nimport com.google.android.material.snackbar.Snackbar\r\n\r\nclass HomeFragment : Fragment() {\r\n\r\n    lateinit var binding: FragmentHomeBinding\r\n    private val LOCATION_PERMISSION_CODE = 123 // kode permintaan izin lokasi\r\n    private val MY_PERMISSIONS_REQUEST_CAMERA = 456 // kode permintaan izin kamera\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        with(binding) {\r\n//            checkForPermission(\r\n//                Manifest.permission.CAMERA,\r\n//                \"camera\",\r\n//                MY_PERMISSIONS_REQUEST_CAMERA\r\n//            )\r\n//\r\n//            checkForPermission(\r\n//                Manifest.permission.ACCESS_FINE_LOCATION,\r\n//                \"location\",\r\n//                LOCATION_PERMISSION_CODE\r\n//            )\r\n\r\n\r\n\r\n\r\n\r\n            imageView13.setOnClickListener {\r\n                checkForPermission(\r\n                    Manifest.permission.CAMERA,\r\n                    \"camera\",\r\n                    MY_PERMISSIONS_REQUEST_CAMERA\r\n                )\r\n            }\r\n\r\n            textView39.setOnClickListener {\r\n                checkForPermission(\r\n                    Manifest.permission.ACCESS_FINE_LOCATION,\r\n                    \"location\",\r\n                    LOCATION_PERMISSION_CODE\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun checkForPermission(permission: String, name: String, requestCode: Int) {\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\r\n            when {\r\n                ContextCompat.checkSelfPermission(\r\n                    requireContext(),\r\n                    permission\r\n                ) == PackageManager.PERMISSION_GRANTED -> {\r\n                    Toast.makeText(requireContext(), \"$name permission granted\", Toast.LENGTH_SHORT)\r\n                        .show()\r\n                }\r\n\r\n                shouldShowRequestPermissionRationale(permission) -> showDialog(\r\n                    permission,\r\n                    name,\r\n                    requestCode\r\n                )\r\n                else -> ActivityCompat.requestPermissions(\r\n                    requireActivity(),\r\n                    arrayOf(permission),\r\n                    requestCode\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    fun cameraPermission(){\r\n        ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED\r\n    }\r\n\r\n    override fun onRequestPermissionsResult(\r\n        requestCode: Int,\r\n        permissions: Array<out String>,\r\n        grantResults: IntArray\r\n    ) {\r\n        fun innerCheck(name: String) {\r\n            if (grantResults.isEmpty() || grantResults[0] != PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(requireContext(), \"$name Permission refused \", Toast.LENGTH_SHORT)\r\n                    .show()\r\n            } else {\r\n                Toast.makeText(requireContext(), \"$name Permission granted \", Toast.LENGTH_SHORT)\r\n                    .show()\r\n            }\r\n        }\r\n\r\n        when (requestCode) {\r\n            LOCATION_PERMISSION_CODE -> innerCheck(\"location\")\r\n            MY_PERMISSIONS_REQUEST_CAMERA -> innerCheck(\"camera\")\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n    }\r\n\r\n    private fun showDialog(permission: String, name: String, requestCode: Int) {\r\n        val builder = AlertDialog.Builder(requireContext())\r\n        builder.apply {\r\n            setMessage(\"Permission to access your $name is required to use this app\")\r\n            setTitle(\"Permission required\")\r\n            setPositiveButton(\"OK\") { dialog, whisch ->\r\n                ActivityCompat.requestPermissions(\r\n                    requireActivity(),\r\n                    arrayOf(permission),\r\n                    requestCode\r\n                )\r\n            }\r\n        }\r\n\r\n        val dialog = builder.create()\r\n        dialog.show()\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/fragment/HomeFragment.kt b/app/src/main/java/com/example/dsmabsen/ui/fragment/HomeFragment.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/fragment/HomeFragment.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/fragment/HomeFragment.kt	(date 1678627046265)
@@ -20,13 +20,14 @@
 import androidx.core.content.ContextCompat
 import com.example.dsmabsen.R
 import com.example.dsmabsen.databinding.FragmentHomeBinding
+import com.example.dsmabsen.helper.Constans
 import com.google.android.material.snackbar.Snackbar
 
 class HomeFragment : Fragment() {
 
     lateinit var binding: FragmentHomeBinding
-    private val LOCATION_PERMISSION_CODE = 123 // kode permintaan izin lokasi
-    private val MY_PERMISSIONS_REQUEST_CAMERA = 456 // kode permintaan izin kamera
+    private val LOCATION_PERMISSION_CODE = 123
+    private val MY_PERMISSIONS_REQUEST_CAMERA = 456
 
     override fun onCreateView(
         inflater: LayoutInflater, container: ViewGroup?,
@@ -39,20 +40,27 @@
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         super.onViewCreated(view, savedInstanceState)
         with(binding) {
-//            checkForPermission(
-//                Manifest.permission.CAMERA,
-//                "camera",
-//                MY_PERMISSIONS_REQUEST_CAMERA
-//            )
-//
-//            checkForPermission(
-//                Manifest.permission.ACCESS_FINE_LOCATION,
-//                "location",
-//                LOCATION_PERMISSION_CODE
-//            )
+            checkForPermission(
+                Manifest.permission.CAMERA,
+                "camera",
+                MY_PERMISSIONS_REQUEST_CAMERA
+            )
 
+            checkForPermission(
+                Manifest.permission.ACCESS_FINE_LOCATION,
+                "location",
+                LOCATION_PERMISSION_CODE
+            )
 
+            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.Q) {
+            } else {
+                val permission = Manifest.permission.READ_PHONE_STATE
+                singlePermissionLaunch.launch(permission)
+            }
 
+//camera >= M kasih izin
+//            Lokasi
+//Imei android dibawah 10 izin imei
 
 
             imageView13.setOnClickListener {
@@ -98,10 +106,6 @@
         }
     }
 
-    fun cameraPermission(){
-        ActivityCompat.checkSelfPermission(requireContext(), Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED
-    }
-
     override fun onRequestPermissionsResult(
         requestCode: Int,
         permissions: Array<out String>,
@@ -109,10 +113,10 @@
     ) {
         fun innerCheck(name: String) {
             if (grantResults.isEmpty() || grantResults[0] != PackageManager.PERMISSION_GRANTED) {
-                Toast.makeText(requireContext(), "$name Permission refused ", Toast.LENGTH_SHORT)
+                Toast.makeText(requireContext(), "izin $name ditolak", Toast.LENGTH_SHORT)
                     .show()
             } else {
-                Toast.makeText(requireContext(), "$name Permission granted ", Toast.LENGTH_SHORT)
+                Toast.makeText(requireContext(), "izin $name disetujui", Toast.LENGTH_SHORT)
                     .show()
             }
         }
@@ -127,8 +131,8 @@
     private fun showDialog(permission: String, name: String, requestCode: Int) {
         val builder = AlertDialog.Builder(requireContext())
         builder.apply {
-            setMessage("Permission to access your $name is required to use this app")
-            setTitle("Permission required")
+            setMessage("membutuhkan izin $name untuk menggunakan aplikasi ini")
+            setTitle("Membutuhkan izin")
             setPositiveButton("OK") { dialog, whisch ->
                 ActivityCompat.requestPermissions(
                     requireActivity(),
@@ -142,5 +146,15 @@
         dialog.show()
     }
 
+    private val singlePermissionLaunch =
+        registerForActivityResult(ActivityResultContracts.RequestPermission()) { isGranted ->
+            Log.d(Constans.TAG, "Membutuhkan izin: $isGranted")
+            if (isGranted) {
+                Toast.makeText(requireContext(), "Izin disetujui", Toast.LENGTH_SHORT).show()
+            } else {
+                Toast.makeText(requireContext(), "izin ditolak ", Toast.LENGTH_SHORT).show()
+            }
+        }
+
 
 }
\ No newline at end of file
Index: app/src/main/res/layout/item_sallary.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <com.google.android.material.card.MaterialCardView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:padding=\"@dimen/_10sdp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/idGaji\"\r\n                android:layout_width=\"0dp\"\r\n                android:maxLines=\"1\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:fontFamily=\"@font/poppins_bold\"\r\n                android:text=\"TextView\"\r\n                android:textColor=\"@color/crown\"\r\n                android:textSize=\"@dimen/_12ssp\"\r\n                app:layout_constraintBottom_toTopOf=\"@+id/tanggals\"\r\n                app:layout_constraintEnd_toStartOf=\"@+id/sallary\"\r\n                app:layout_constraintHorizontal_bias=\"0.0\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/sallary\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:fontFamily=\"@font/poppins_semibold\"\r\n                android:text=\"TextView\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"@dimen/_12ssp\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toStartOf=\"@+id/imageView31\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tanggals\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"TextView\"\r\n                android:fontFamily=\"@font/poppins_light\"\r\n                android:textSize=\"@dimen/_10ssp\"\r\n                android:textColor=\"@color/black_text\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/idGaji\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageView31\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:srcCompat=\"@drawable/ic_sheft_row_right\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </com.google.android.material.card.MaterialCardView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_sallary.xml b/app/src/main/res/layout/item_sallary.xml
--- a/app/src/main/res/layout/item_sallary.xml	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/res/layout/item_sallary.xml	(date 1678620110654)
@@ -19,6 +19,9 @@
             <TextView
                 android:id="@+id/idGaji"
                 android:layout_width="0dp"
+                android:maxEms="10"
+                android:ellipsize="end"
+                android:singleLine="true"
                 android:maxLines="1"
                 android:layout_height="wrap_content"
                 android:fontFamily="@font/poppins_bold"
Index: app/src/main/java/com/example/dsmabsen/repository/AttendanceRepository.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.repository\r\n\r\nimport com.example.dsmabsen.model.RequestAbsen\r\nimport com.example.dsmabsen.network.DataAttendanceApi\r\nimport com.example.dsmabsen.network.HomeApi\r\nimport okhttp3.MultipartBody\r\nimport okhttp3.RequestBody\r\nimport javax.inject.Inject\r\n\r\nclass AttendanceRepository @Inject constructor(private val api: DataAttendanceApi) :\r\n    BaseRepository() {\r\n\r\n    suspend fun attendanceTotal(nip: String) =\r\n        safeApiCall { api.attendanceTotal(nip) }\r\n\r\n    suspend fun getSallary(nip: String) =\r\n        safeApiCall { api.getSallary(nip) }\r\n\r\n    suspend fun attendanceHistory(nip: String) =\r\n        safeApiCall { api.attendanceHistory(nip) }\r\n\r\n    suspend fun getListLembur(nip: String) =\r\n        safeApiCall { api.getListLembur(nip) }\r\n\r\n\r\n\r\n    suspend fun pengajuanLembur(nip: String,\r\n                                jam_mulai: String,\r\n                                jam_selesai: String,\r\n                                file: String,\r\n                                tanggal: String,\r\n                                keterangan: String ) =\r\n        safeApiCall { api.pengajuanLembur(nip, jam_mulai, jam_selesai, file, tanggal, keterangan) }\r\n\r\n    suspend fun attendanceToday(\r\n//        data:RequestAbsen\r\n        image: MultipartBody.Part,\r\n        nip: RequestBody,\r\n        date: RequestBody,\r\n        timezone: RequestBody,\r\n        kordinat: RequestBody,\r\n        kode_shift: RequestBody,\r\n        kode_tingkat: RequestBody\r\n    ) =\r\n        safeApiCall {\r\n            api.attendanceToday(\r\n                image,\r\n                nip,\r\n                date,\r\n                timezone,\r\n                kordinat,\r\n                kode_shift,\r\n                kode_tingkat\r\n            )\r\n        }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/repository/AttendanceRepository.kt b/app/src/main/java/com/example/dsmabsen/repository/AttendanceRepository.kt
--- a/app/src/main/java/com/example/dsmabsen/repository/AttendanceRepository.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/repository/AttendanceRepository.kt	(date 1678603890868)
@@ -16,6 +16,10 @@
     suspend fun getSallary(nip: String) =
         safeApiCall { api.getSallary(nip) }
 
+    suspend fun getAttendanceHistory(nip: String) =
+        safeApiCall { api.getAttendanceHistory(nip) }
+
+
     suspend fun attendanceHistory(nip: String) =
         safeApiCall { api.attendanceHistory(nip) }
 
Index: app/src/main/java/com/example/dsmabsen/ui/viewModel/ReimbursementViewModel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.viewModel\r\n\r\nimport androidx.lifecycle.LiveData\r\nimport androidx.lifecycle.MutableLiveData\r\nimport androidx.lifecycle.ViewModel\r\nimport androidx.lifecycle.viewModelScope\r\nimport com.example.dsmabsen.model.AttendanceHistory\r\nimport com.example.dsmabsen.model.ListReimbursement\r\nimport com.example.dsmabsen.model.PengajuanReimbusement\r\nimport com.example.dsmabsen.model.TotalAttendance\r\nimport com.example.dsmabsen.repository.AttendanceRepository\r\nimport com.example.dsmabsen.repository.NetworkResult\r\nimport com.example.dsmabsen.repository.ReimbursementRepository\r\nimport dagger.hilt.android.lifecycle.HiltViewModel\r\nimport kotlinx.coroutines.launch\r\nimport xyz.teamgravity.checkinternet.CheckInternet\r\nimport javax.inject.Inject\r\n\r\n@HiltViewModel\r\nclass ReimbursementViewModel @Inject constructor(private val repository: ReimbursementRepository) :\r\n    ViewModel() {\r\n\r\n    private val _getReimbursement = MutableLiveData<NetworkResult<ListReimbursement>>()\r\n    val getReimbursementLiveData: LiveData<NetworkResult<ListReimbursement>> = _getReimbursement\r\n\r\n    private val _getPengajuanReimbursement = MutableLiveData<NetworkResult<PengajuanReimbusement>>()\r\n    val getPengajuanLiveData: LiveData<NetworkResult<PengajuanReimbusement>> =\r\n        _getPengajuanReimbursement\r\n\r\n    private var _isDataLoaded = false\r\n    fun requestReimbursement(nip: String) {\r\n        viewModelScope.launch {\r\n            val connected = CheckInternet().check()\r\n            if (connected) {\r\n                _getReimbursement.postValue(NetworkResult.Loading())\r\n                _getReimbursement.postValue(repository.getListReimbursement(nip))\r\n\r\n            } else\r\n                _getReimbursement.postValue(NetworkResult.Error(\"No Internet Connection\"))\r\n        }\r\n    }\r\n\r\n    fun requestPengajuanReimbursement(\r\n        nip: String,\r\n        kode_reimbursement: String,\r\n        nilai: String,\r\n        file: String,\r\n        keterangan: String\r\n    ) {\r\n        viewModelScope.launch {\r\n            val connected = CheckInternet().check()\r\n            if (connected) {\r\n                _getPengajuanReimbursement.postValue(NetworkResult.Loading())\r\n                _getPengajuanReimbursement.postValue(\r\n                    repository.pengajuanReimbursement(\r\n                        nip,\r\n                        kode_reimbursement,\r\n                        nilai,\r\n                        file,\r\n                        keterangan\r\n                    )\r\n                )\r\n\r\n            } else\r\n                _getPengajuanReimbursement.postValue(NetworkResult.Error(\"No Internet Connection\"))\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/viewModel/ReimbursementViewModel.kt b/app/src/main/java/com/example/dsmabsen/ui/viewModel/ReimbursementViewModel.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/viewModel/ReimbursementViewModel.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/viewModel/ReimbursementViewModel.kt	(date 1678603756515)
@@ -4,10 +4,7 @@
 import androidx.lifecycle.MutableLiveData
 import androidx.lifecycle.ViewModel
 import androidx.lifecycle.viewModelScope
-import com.example.dsmabsen.model.AttendanceHistory
-import com.example.dsmabsen.model.ListReimbursement
-import com.example.dsmabsen.model.PengajuanReimbusement
-import com.example.dsmabsen.model.TotalAttendance
+import com.example.dsmabsen.model.*
 import com.example.dsmabsen.repository.AttendanceRepository
 import com.example.dsmabsen.repository.NetworkResult
 import com.example.dsmabsen.repository.ReimbursementRepository
@@ -23,6 +20,10 @@
     private val _getReimbursement = MutableLiveData<NetworkResult<ListReimbursement>>()
     val getReimbursementLiveData: LiveData<NetworkResult<ListReimbursement>> = _getReimbursement
 
+    private val _getSpinnerReimbursement = MutableLiveData<NetworkResult<SpinnerReimbursement>>()
+    val getSpinnerReimbursementLiveData: LiveData<NetworkResult<SpinnerReimbursement>>
+    get() = _getSpinnerReimbursement
+
     private val _getPengajuanReimbursement = MutableLiveData<NetworkResult<PengajuanReimbusement>>()
     val getPengajuanLiveData: LiveData<NetworkResult<PengajuanReimbusement>> =
         _getPengajuanReimbursement
@@ -40,6 +41,13 @@
         }
     }
 
+    fun requestSpinnerReimbursement(){
+        viewModelScope.launch {
+            _getSpinnerReimbursement.postValue(NetworkResult.Loading())
+            _getSpinnerReimbursement.postValue(repository.spinnerReimbursement())
+        }
+    }
+
     fun requestPengajuanReimbursement(
         nip: String,
         kode_reimbursement: String,
Index: settings.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url 'https://jitpack.io' }\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = \"DSM Absen\"\r\ninclude ':app'\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/settings.gradle b/settings.gradle
--- a/settings.gradle	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/settings.gradle	(date 1678622213691)
@@ -3,6 +3,7 @@
         gradlePluginPortal()
         google()
         mavenCentral()
+        maven { url 'https://jitpack.io' }
     }
 }
 dependencyResolutionManagement {
Index: app/src/main/java/com/example/dsmabsen/network/DataAttendanceApi.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.network\r\n\r\nimport com.example.dsmabsen.model.*\r\nimport okhttp3.MultipartBody\r\nimport okhttp3.RequestBody\r\nimport retrofit2.Response\r\nimport retrofit2.http.Field\r\nimport retrofit2.http.FormUrlEncoded\r\nimport retrofit2.http.GET\r\nimport retrofit2.http.Multipart\r\nimport retrofit2.http.POST\r\nimport retrofit2.http.Part\r\nimport retrofit2.http.Path\r\nimport retrofit2.http.Query\r\n\r\ninterface DataAttendanceApi {\r\n\r\n    @GET(\"riwayat-presensi/{nip}\")\r\n    suspend fun attendanceHistory(\r\n        @Path(\"nip\") nip: String\r\n    ): Response<List<DataXXXXXXXXXX>>\r\n\r\n    @GET(\"total-presensi/{nip}\")\r\n    suspend fun attendanceTotal(\r\n        @Path(\"nip\") nip: String\r\n    ): Response<TotalAttendance>\r\n\r\n    @Multipart\r\n    @POST(\"presensi/store\")\r\n    suspend fun attendanceToday(\r\n        @Part image: MultipartBody.Part,\r\n        @Part(\"nip\") nip: RequestBody,\r\n        @Part(\"date\") date: RequestBody,\r\n        @Part(\"timezone\") timezone: RequestBody,\r\n        @Part(\"kordinat\") kordinat: RequestBody,\r\n        @Part(\"kode_shift\") kode_shift: RequestBody,\r\n        @Part(\"kode_tingkat\") kode_tingkat: RequestBody,\r\n    ): Response<Presensi>\r\n\r\n    @GET(\"payroll-client/index\")\r\n    suspend fun getSallary(\r\n        @Query(\"nip\") nip: String\r\n    ): Response<DataSallary>\r\n\r\n    @GET(\"pengajuan/lembur/lists\")\r\n    suspend fun getListLembur(\r\n        @Query(\"nip\") nip: String\r\n    ) : Response<DataLembur>\r\n\r\n    @FormUrlEncoded\r\n    @POST(\"pengajuan/lembur/store\")\r\n    suspend fun pengajuanLembur(\r\n        @Field(\"nip\") nip:String,\r\n        @Field(\"jam_mulai\") jam_mulai:String,\r\n        @Field(\"jam_selesai\") jam_selesai:String,\r\n        @Field(\"file\") file:String,\r\n        @Field(\"tanggal\") tanggal:String,\r\n        @Field(\"keterangan\") keterangan:String\r\n\r\n    ) : Response<PengajuanLembur>\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/network/DataAttendanceApi.kt b/app/src/main/java/com/example/dsmabsen/network/DataAttendanceApi.kt
--- a/app/src/main/java/com/example/dsmabsen/network/DataAttendanceApi.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/network/DataAttendanceApi.kt	(date 1678620548711)
@@ -18,7 +18,12 @@
     @GET("riwayat-presensi/{nip}")
     suspend fun attendanceHistory(
         @Path("nip") nip: String
-    ): Response<List<DataXXXXXXXXXX>>
+    ): Response<ResponseRiwayat>
+
+    @GET("riwayat-presensi/{nip}")
+    suspend fun getAttendanceHistory(
+        @Path("nip") nip: String
+    ): Response<ResponseRiwayat>
 
     @GET("total-presensi/{nip}")
     suspend fun attendanceTotal(
@@ -45,18 +50,18 @@
     @GET("pengajuan/lembur/lists")
     suspend fun getListLembur(
         @Query("nip") nip: String
-    ) : Response<DataLembur>
+    ): Response<DataLembur>
 
     @FormUrlEncoded
     @POST("pengajuan/lembur/store")
     suspend fun pengajuanLembur(
-        @Field("nip") nip:String,
-        @Field("jam_mulai") jam_mulai:String,
-        @Field("jam_selesai") jam_selesai:String,
-        @Field("file") file:String,
-        @Field("tanggal") tanggal:String,
-        @Field("keterangan") keterangan:String
+        @Field("nip") nip: String,
+        @Field("jam_mulai") jam_mulai: String,
+        @Field("jam_selesai") jam_selesai: String,
+        @Field("file") file: String,
+        @Field("tanggal") tanggal: String,
+        @Field("keterangan") keterangan: String
 
-    ) : Response<PengajuanLembur>
+    ): Response<PengajuanLembur>
 
 }
\ No newline at end of file
Index: app/src/main/java/com/example/dsmabsen/network/ReimbursementApi.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.network\r\n\r\nimport com.example.dsmabsen.model.ListReimbursement\r\nimport com.example.dsmabsen.model.PengajuanReimbusement\r\nimport retrofit2.Response\r\nimport retrofit2.http.*\r\n\r\ninterface ReimbursementApi {\r\n\r\n    @GET(\"pengajuan/reimbursement/lists\")\r\n    suspend fun getListReimbursement(\r\n        @Query(\"nip\") nip: String\r\n    ) : Response<ListReimbursement>\r\n\r\n    @FormUrlEncoded\r\n    @POST(\"pengajuan/reimbursement/store\")\r\n    suspend fun pengajuanReimbursement(\r\n        @Field(\"nip\") nip: String,\r\n        @Field(\"kode_reimbursement\") kode_reimbursement: String,\r\n        @Field(\"nilai\") nilai: String,\r\n        @Field(\"file\") file: String,\r\n        @Field(\"keterangan\") keterangan: String\r\n    ) : Response<PengajuanReimbusement>\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/network/ReimbursementApi.kt b/app/src/main/java/com/example/dsmabsen/network/ReimbursementApi.kt
--- a/app/src/main/java/com/example/dsmabsen/network/ReimbursementApi.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/network/ReimbursementApi.kt	(date 1678603756521)
@@ -2,6 +2,7 @@
 
 import com.example.dsmabsen.model.ListReimbursement
 import com.example.dsmabsen.model.PengajuanReimbusement
+import com.example.dsmabsen.model.SpinnerReimbursement
 import retrofit2.Response
 import retrofit2.http.*
 
@@ -21,4 +22,12 @@
         @Field("file") file: String,
         @Field("keterangan") keterangan: String
     ) : Response<PengajuanReimbusement>
+
+    @GET("pengajuan/reimbursement")
+    suspend fun spinnerReimbursement(
+
+    ):Response<SpinnerReimbursement>
+
+
+
 }
\ No newline at end of file
Index: app/src/main/java/com/example/dsmabsen/ui/activity/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.activity\r\n\r\nimport android.graphics.Color\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport androidx.navigation.fragment.findNavController\r\nimport android.widget.Toast\r\nimport androidx.activity.OnBackPressedCallback\r\nimport androidx.activity.addCallback\r\nimport androidx.appcompat.app.AlertDialog\r\nimport androidx.appcompat.content.res.AppCompatResources\r\nimport androidx.navigation.NavController\r\nimport androidx.navigation.NavOptions\r\nimport androidx.navigation.findNavController\r\nimport androidx.navigation.fragment.NavHostFragment\r\nimport androidx.navigation.fragment.findNavController\r\nimport androidx.navigation.ui.AppBarConfiguration\r\nimport com.example.dsmabsen.R\r\nimport com.example.dsmabsen.databinding.ActivityMainBinding\r\nimport dagger.hilt.android.AndroidEntryPoint\r\nimport androidx.navigation.ui.setupActionBarWithNavController\r\nimport androidx.navigation.ui.setupWithNavController\r\nimport com.example.dsmabsen.ui.fragment.AttendanceFragment\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView\r\n\r\n@AndroidEntryPoint\r\nclass MainActivity : AppCompatActivity() {\r\n    lateinit var navController: NavController\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        val binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        val navHostFragment =\r\n            supportFragmentManager.findFragmentById(R.id.fragmentContainerView2) as NavHostFragment\r\n        navController = navHostFragment.findNavController()\r\n\r\n//        Bottom Navigation\r\n        with(binding) {\r\n            bottomNavigationView.setupWithNavController(navController)\r\n//            bottomNavigationView.menu.getItem(1).isEnabled = false\r\n\r\n            navController.addOnDestinationChangedListener { _, destination, _ ->\r\n            }\r\n\r\n            val callback = object : OnBackPressedCallback(true) {\r\n                override fun handleOnBackPressed() {\r\n                    if (navController.currentDestination?.id == R.id.berandaFragment) {\r\n                        val builder = AlertDialog.Builder(this@MainActivity)\r\n                        builder.setTitle(\"Konfirmasi\")\r\n                        builder.setMessage(\"Apakah Anda yakin ingin keluar dari aplikasi?\")\r\n                        builder.setPositiveButton(\"Ya\") { _, _ ->\r\n                            finish()\r\n                        }\r\n\r\n                        builder.setNegativeButton(\"Tidak\") { dialog, _ ->\r\n                            dialog.dismiss()\r\n                        }\r\n\r\n                        val dialog = builder.create()\r\n                        dialog.show()\r\n                    } else {\r\n                        navController.navigateUp()\r\n                    }\r\n                }\r\n            }\r\n            onBackPressedDispatcher.addCallback(this@MainActivity, callback)\r\n        }\r\n\r\n            navController.addOnDestinationChangedListener { _, destination, _ ->\r\n\r\n                val arrayFragment = arrayOf(\r\n                    R.id.berandaFragment,\r\n                    R.id.profileFragment,\r\n                )\r\n\r\n                if (arrayFragment.contains(destination.id)) {\r\n                    binding.main.setBackgroundColor(Color.WHITE)\r\n                } else {\r\n                    binding.main.background = AppCompatResources.getDrawable(applicationContext,R.drawable.gradiend_background)\r\n                }\r\n            }\r\n\r\n//            bottomNavigationView.setOnItemSelectedListener { item ->\r\n//                when (item.itemId) {\r\n//                    R.id.berandaFragment -> navController.navigate(R.id.berandaFragment)\r\n//                    R.id.dataAbsenFragment -> navController.navigate(R.id.action_berandaFragment_to_dataAbsenFragment)\r\n//                }\r\n//                true\r\n//            }\r\n\r\n\r\n//            bottomNavigationView.setOnItemSelectedListener { item ->\r\n//                when (item.itemId) {\r\n//                    R.id.berandaFragment -> {\r\n//                        val navOptions = NavOptions.Builder()\r\n//                            .setEnterAnim(R.anim.slide_in_left)\r\n//                            .setExitAnim(R.anim.slide_out_right)\r\n//                            .setPopEnterAnim(R.anim.slide_in_right)\r\n//                            .setPopExitAnim(R.anim.slide_out_left)\r\n//                            .build()\r\n//                        navController.navigate(R.id.berandaFragment, null, navOptions)\r\n//                    }\r\n//                    R.id.dataAbsenFragment -> {\r\n//                        val navOptions = NavOptions.Builder()\r\n//                            .setEnterAnim(R.anim.slide_in_right)\r\n//                            .setExitAnim(R.anim.slide_out_left)\r\n//                            .setPopEnterAnim(R.anim.slide_in_left)\r\n//                            .setPopExitAnim(R.anim.slide_out_right)\r\n//                            .build()\r\n//\r\n//                        navController.navigate(R.id.dataAbsenFragment, null, navOptions)\r\n//                    }\r\n//                }\r\n//                true\r\n//\r\n//            }\r\n\r\n    }\r\n//        //Tambahkan kode berikut untuk menangani event tombol kembali di fragment Beranda\r\n//        val callback = object : OnBackPressedCallback(true) {\r\n//            override fun handleOnBackPressed() {\r\n//                val builder = AlertDialog.Builder(this@MainActivity)\r\n//                builder.setTitle(\"Konfirmasi Keluar\")\r\n//                    .setMessage(\"Apakah Anda yakin ingin keluar dari aplikasi?\")\r\n//                    .setPositiveButton(\"Ya\") { _, _ ->\r\n//                        finish()\r\n//                    }\r\n//                    .setNegativeButton(\"Tidak\") { dialog, _ ->\r\n//                        dialog.dismiss()\r\n//                    }\r\n//                builder.create().show()\r\n//            }\r\n//        }\r\n//        navController.addOnDestinationChangedListener { _, destination, _ ->\r\n//            if (destination.id == R.id.berandaFragment) {\r\n//                onBackPressedDispatcher.addCallback(this@MainActivity, callback)\r\n//            } else {\r\n//                onBackPressedDispatcher.onBackPressed()\r\n//            }\r\n//        }\r\n\r\n\r\n    override fun onSupportNavigateUp(): Boolean {\r\n        return navController.navigateUp() || super.onSupportNavigateUp()\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/activity/MainActivity.kt b/app/src/main/java/com/example/dsmabsen/ui/activity/MainActivity.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/activity/MainActivity.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/activity/MainActivity.kt	(date 1678620548704)
@@ -38,7 +38,6 @@
 //        Bottom Navigation
         with(binding) {
             bottomNavigationView.setupWithNavController(navController)
-//            bottomNavigationView.menu.getItem(1).isEnabled = false
 
             navController.addOnDestinationChangedListener { _, destination, _ ->
             }
Index: app/src/main/res/layout/fragment_pengajuan_lembur.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    android:background=\"@drawable/gradiend_background\"\r\n    android:padding=\"@dimen/_20sdp\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    tools:context=\".ui.fragment.PengajuanLemburFragment\">\r\n\r\n    <include\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:id=\"@+id/toolbar\"\r\n        layout=\"@layout/toolbar_layout\"/>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/rv_tanggal_mulai\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingVertical=\"@dimen/_10sdp\"\r\n        android:paddingHorizontal=\"@dimen/_15sdp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/toolbar\"\r\n        android:background=\"@drawable/rounded_menu\"\r\n        android:layout_marginTop=\"@dimen/_10sdp\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_tanggal\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Tanggal\"\r\n            android:fontFamily=\"@font/poppins_bold\"\r\n            android:textSize=\"@dimen/_11ssp\"\r\n            android:textColor=\"@color/_dark\"/>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"@dimen/_47sdp\"\r\n            android:background=\"@drawable/rounded_menu\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:layout_below=\"@+id/tv_tanggal\"\r\n            android:paddingHorizontal=\"@dimen/_10sdp\"\r\n            android:gravity=\"center_vertical\">\r\n\r\n            <ImageView\r\n                android:layout_width=\"@dimen/_14sdp\"\r\n                android:layout_height=\"@dimen/_13sdp\"\r\n                android:fontFamily=\"@font/poppins\"\r\n                android:src=\"@drawable/icon_tanggal\"\r\n                android:layout_marginEnd=\"@dimen/_10sdp\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tanggalPenggajuan\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"@dimen/_47sdp\"\r\n                android:fontFamily=\"@font/poppins\"\r\n                android:background=\"@null\"\r\n                android:textAlignment=\"textEnd\"\r\n                android:hint=\"dd/mm/yyyy\"/>\r\n\r\n        </LinearLayout>\r\n\r\n    </RelativeLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/rv_jam_mulai\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingVertical=\"@dimen/_10sdp\"\r\n        android:paddingHorizontal=\"@dimen/_15sdp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_tanggal_mulai\"\r\n        android:background=\"@drawable/rounded_menu\"\r\n        android:layout_marginTop=\"@dimen/_10sdp\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_jam_mulai\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Jam Mulai\"\r\n            android:fontFamily=\"@font/poppins_bold\"\r\n            android:textSize=\"@dimen/_11ssp\"\r\n            android:textColor=\"@color/_dark\"/>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"@dimen/_47sdp\"\r\n            android:background=\"@drawable/rounded_menu\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:layout_below=\"@+id/tv_jam_mulai\"\r\n            android:paddingHorizontal=\"@dimen/_10sdp\"\r\n            android:gravity=\"center_vertical\">\r\n\r\n            <ImageView\r\n                android:layout_width=\"@dimen/_14sdp\"\r\n                android:layout_height=\"@dimen/_13sdp\"\r\n                android:fontFamily=\"@font/poppins\"\r\n                android:src=\"@drawable/icon_jam\"\r\n                android:layout_marginEnd=\"@dimen/_10sdp\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/jamMulai\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"@dimen/_47sdp\"\r\n                android:fontFamily=\"@font/poppins\"\r\n                android:background=\"@null\"\r\n                android:textAlignment=\"textEnd\"\r\n                android:hint=\"--:--\"/>\r\n\r\n        </LinearLayout>\r\n\r\n    </RelativeLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/rv_jam_selesai\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingVertical=\"@dimen/_10sdp\"\r\n        android:paddingHorizontal=\"@dimen/_15sdp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_jam_mulai\"\r\n        android:background=\"@drawable/rounded_menu\"\r\n        android:layout_marginTop=\"@dimen/_10sdp\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_jam_selesai\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Jam Selesai\"\r\n            android:fontFamily=\"@font/poppins_bold\"\r\n            android:textSize=\"@dimen/_11ssp\"\r\n            android:textColor=\"@color/_dark\"/>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"@dimen/_47sdp\"\r\n            android:background=\"@drawable/rounded_menu\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:layout_below=\"@+id/tv_jam_selesai\"\r\n            android:paddingHorizontal=\"@dimen/_10sdp\"\r\n            android:gravity=\"center_vertical\">\r\n\r\n            <ImageView\r\n                android:layout_width=\"@dimen/_14sdp\"\r\n                android:layout_height=\"@dimen/_13sdp\"\r\n                android:fontFamily=\"@font/poppins\"\r\n                android:src=\"@drawable/icon_jam\"\r\n                android:layout_marginEnd=\"@dimen/_10sdp\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/jamSelesai\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"@dimen/_47sdp\"\r\n                android:fontFamily=\"@font/poppins\"\r\n                android:background=\"@null\"\r\n                android:textAlignment=\"textEnd\"\r\n                android:hint=\"--:--\"/>\r\n\r\n        </LinearLayout>\r\n\r\n    </RelativeLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/rv_keterangan_lembur_create\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"@dimen/_152sdp\"\r\n        android:paddingVertical=\"@dimen/_10sdp\"\r\n        android:paddingHorizontal=\"@dimen/_15sdp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_jam_selesai\"\r\n        android:background=\"@drawable/rounded_menu\"\r\n        android:layout_marginTop=\"@dimen/_10sdp\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_keterangan_lembur_create\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Keterangan\"\r\n            android:fontFamily=\"@font/poppins_bold\"\r\n            android:textSize=\"@dimen/_11ssp\"\r\n            android:textColor=\"@color/_dark\"/>\r\n\r\n        <EditText\r\n            android:id=\"@+id/keteranganPenggajuan\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"@dimen/_109sdp\"\r\n            android:background=\"@drawable/rounded_menu\"\r\n            android:layout_below=\"@+id/tv_keterangan_lembur_create\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:dropDownSelector=\"@drawable/arrow_bottom\"\r\n            android:paddingHorizontal=\"@dimen/_10sdp\"\r\n            android:paddingVertical=\"@dimen/_15sdp\"\r\n            android:lines=\"4\"\r\n            android:textAlignment=\"textEnd\"/>\r\n\r\n    </RelativeLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSend\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Button\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_keterangan_lembur_create\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_pengajuan_lembur.xml b/app/src/main/res/layout/fragment_pengajuan_lembur.xml
--- a/app/src/main/res/layout/fragment_pengajuan_lembur.xml	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/res/layout/fragment_pengajuan_lembur.xml	(date 1678603882215)
@@ -55,6 +55,7 @@
                 android:layout_height="@dimen/_47sdp"
                 android:fontFamily="@font/poppins"
                 android:background="@null"
+                android:textColor="@color/black_text"
                 android:textAlignment="textEnd"
                 android:hint="dd/mm/yyyy"/>
 
@@ -103,6 +104,7 @@
                 android:layout_height="@dimen/_47sdp"
                 android:fontFamily="@font/poppins"
                 android:background="@null"
+                android:textColor="@color/black_text"
                 android:textAlignment="textEnd"
                 android:hint="--:--"/>
 
@@ -151,6 +153,7 @@
                 android:layout_height="@dimen/_47sdp"
                 android:fontFamily="@font/poppins"
                 android:background="@null"
+                android:textColor="@color/black_text"
                 android:textAlignment="textEnd"
                 android:hint="--:--"/>
 
@@ -181,6 +184,7 @@
             android:id="@+id/keteranganPenggajuan"
             android:layout_width="match_parent"
             android:layout_height="@dimen/_109sdp"
+            android:textColor="@color/black_text"
             android:background="@drawable/rounded_menu"
             android:layout_below="@+id/tv_keterangan_lembur_create"
             android:backgroundTint="@color/white"
Index: app/src/main/res/layout/fragment_sallary.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    android:padding=\"@dimen/_20sdp\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    tools:context=\".ui.fragment.SallaryFragment\">\r\n\r\n\r\n    <include\r\n        android:id=\"@+id/include_slipgaji\"\r\n        layout=\"@layout/layout_appbar_center\"/>\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/recSallary\"\r\n        tools:listitem=\"@layout/item_sallary\"\r\n        android:layout_marginTop=\"@dimen/_15sdp\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/include_slipgaji\"\r\n        tools:layout_editor_absoluteX=\"26dp\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_sallary.xml b/app/src/main/res/layout/fragment_sallary.xml
--- a/app/src/main/res/layout/fragment_sallary.xml	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/res/layout/fragment_sallary.xml	(date 1678603890788)
@@ -10,8 +10,8 @@
 
 
     <include
-        android:id="@+id/include_slipgaji"
-        layout="@layout/layout_appbar_center"/>
+        android:id="@+id/toolbar"
+        layout="@layout/toolbar_layout"/>
 
     <androidx.recyclerview.widget.RecyclerView
         android:id="@+id/recSallary"
@@ -20,7 +20,7 @@
         android:layout_width="match_parent"
         android:layout_height="0dp"
         app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintTop_toBottomOf="@+id/include_slipgaji"
+        app:layout_constraintTop_toBottomOf="@+id/toolbar"
         tools:layout_editor_absoluteX="26dp" />
 
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"Android Studio default JDK\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/.idea/misc.xml	(date 1678603890796)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ExternalStorageConfigurationManager" enabled="true" />
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="Android Studio default JDK" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="11" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
   <component name="ProjectType">
Index: app/src/main/res/layout/item_spinner.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><TextView\r\n    android:layout_margin=\"10dp\"\r\n    android:id=\"@+id/permissions\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:textColor=\"@color/black\"\r\n    android:textSize=\"14sp\"\r\n    android:text=\"saya sedang sakit sekarang ya \"\r\n    android:textAlignment=\"textEnd\"\r\n    android:textStyle=\"bold\"/>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_spinner.xml b/app/src/main/res/layout/item_spinner.xml
--- a/app/src/main/res/layout/item_spinner.xml	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/res/layout/item_spinner.xml	(date 1678609846622)
@@ -1,11 +1,22 @@
-<TextView
-    android:layout_margin="10dp"
-    android:id="@+id/permissions"
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="match_parent"
-    android:layout_height="wrap_content"
-    android:textColor="@color/black"
-    android:textSize="14sp"
-    android:text="saya sedang sakit sekarang ya "
-    android:textAlignment="textEnd"
-    android:textStyle="bold"/>
\ No newline at end of file
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    >
+
+    <TextView
+        android:id="@+id/permissions"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:textColor="@color/black"
+        android:textSize="@dimen/_12ssp"
+        android:text="saya sedang sakit sekarang ya "
+        android:textAlignment="textEnd"
+        app:layout_constraintTop_toTopOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+
+       />
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/dsmabsen/ui/activity/LoginActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.activity\r\n\r\nimport android.Manifest\r\nimport android.content.Intent\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.telephony.TelephonyManager\r\nimport android.util.Log\r\nimport android.provider.Settings\r\nimport android.widget.Toast\r\nimport androidx.activity.result.contract.ActivityResultContracts\r\nimport androidx.activity.viewModels\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.core.view.isVisible\r\nimport com.example.dsmabsen.databinding.ActivityLoginBinding\r\nimport com.example.dsmabsen.helper.CacheManager\r\nimport com.example.dsmabsen.helper.Constans.TAG\r\nimport com.example.dsmabsen.helper.TokenManager\r\nimport com.example.dsmabsen.helper.handleApiError\r\nimport com.example.dsmabsen.model.DataX\r\nimport com.example.dsmabsen.repository.NetworkResult\r\nimport com.example.dsmabsen.ui.viewModel.AuthViewModel\r\nimport dagger.hilt.android.AndroidEntryPoint\r\nimport io.paperdb.Paper\r\nimport javax.inject.Inject\r\n\r\n@AndroidEntryPoint\r\nclass LoginActivity : AppCompatActivity() {\r\n    private val viewModel: AuthViewModel by viewModels()\r\n    private lateinit var imei: String\r\n    private lateinit var telephonyManager: TelephonyManager\r\n\r\n    @Inject\r\n    lateinit var tokenManager: TokenManager\r\n\r\n    private lateinit var binding: ActivityLoginBinding\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityLoginBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n\r\n        if (tokenManager.getToken() != null) {\r\n            startActivity(Intent(this@LoginActivity, MainActivity::class.java))\r\n            finish()\r\n        }\r\n        telephonyManager = getSystemService(TELEPHONY_SERVICE) as TelephonyManager\r\n        val mId = Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID)\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.Q) {\r\n            Toast.makeText(this@LoginActivity, mId, Toast.LENGTH_SHORT).show()\r\n        } else {\r\n            val permission = Manifest.permission.READ_PHONE_STATE\r\n            singlePermissionLaunch.launch(permission)\r\n        }\r\n\r\n\r\n\r\n        with(binding) {\r\n            btnLogin.setOnClickListener {\r\n                val myUserName = nip.text.toString()\r\n                val myPassword = password.text.toString()\r\n                when {\r\n                    myUserName.isEmpty() -> {\r\n                        Toast.makeText(\r\n                            this@LoginActivity,\r\n                            myUserName,\r\n                            Toast.LENGTH_SHORT\r\n                        ).show()\r\n                    }\r\n                    myPassword.isEmpty() -> Toast.makeText(\r\n                        this@LoginActivity,\r\n                        \"Harap isi password\",\r\n                        Toast.LENGTH_SHORT\r\n                    ).show()\r\n                    else -> {\r\n                        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.Q) {\r\n                            viewModel.login(myUserName, myPassword, mId)\r\n                            Toast.makeText(this@LoginActivity, mId, Toast.LENGTH_SHORT).show()\r\n                        } else {\r\n                            viewModel.login(myUserName, myPassword, imei)\r\n                            Toast.makeText(this@LoginActivity, imei, Toast.LENGTH_SHORT).show()\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            viewModel.userResponseLiveData.observe(this@LoginActivity) {\r\n                loading.isVisible = false\r\n                when (it) {\r\n                    is NetworkResult.Success -> {\r\n                        if (it.data!!.status) {\r\n                            Toast.makeText(this@LoginActivity, \"berhasil login\", Toast.LENGTH_SHORT)\r\n                                .show()\r\n                            tokenManager.saveToken(it.data.access_token)\r\n                            val data = it.data.data\r\n                            saveDataNip(data)\r\n                            startActivity(Intent(this@LoginActivity, MainActivity::class.java))\r\n                            finish()\r\n                        } else {\r\n                            Toast.makeText(\r\n                                this@LoginActivity,\r\n                                \"sepertinya username atau password anda ada masalah \",\r\n                                Toast.LENGTH_SHORT\r\n                            ).show()\r\n                        }\r\n                    }\r\n                    is NetworkResult.Error -> {\r\n                        val error = it.message.toString()\r\n                        handleApiError(error)\r\n                        Log.d(TAG, (it.message.toString()))\r\n                    }\r\n\r\n                    is NetworkResult.Loading ->{\r\n                        binding.loading.isVisible = true\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun saveDataNip(data: DataX) {\r\n        Paper.book().write(\"user\", data)\r\n    }\r\n\r\n\r\n    private val singlePermissionLaunch =\r\n        registerForActivityResult(ActivityResultContracts.RequestPermission()) { isGranted ->\r\n            Log.d(TAG, \"permission is Granted: $isGranted\")\r\n            if (isGranted) {\r\n                Toast.makeText(this, \"Permission is granted\", Toast.LENGTH_SHORT).show()\r\n                imei = telephonyManager.imei\r\n                Toast.makeText(this, imei, Toast.LENGTH_SHORT).show()\r\n            } else {\r\n                Log.d(TAG, \"Permission Single : Permission Denied \")\r\n                Toast.makeText(this, \"Permission Denied \", Toast.LENGTH_SHORT).show()\r\n            }\r\n        }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/activity/LoginActivity.kt b/app/src/main/java/com/example/dsmabsen/ui/activity/LoginActivity.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/activity/LoginActivity.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/activity/LoginActivity.kt	(date 1678603890802)
@@ -47,7 +47,7 @@
         telephonyManager = getSystemService(TELEPHONY_SERVICE) as TelephonyManager
         val mId = Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID)
         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.Q) {
-            Toast.makeText(this@LoginActivity, mId, Toast.LENGTH_SHORT).show()
+//            Toast.makeText(this@LoginActivity, mId, Toast.LENGTH_SHORT).show()
         } else {
             val permission = Manifest.permission.READ_PHONE_STATE
             singlePermissionLaunch.launch(permission)
@@ -75,10 +75,10 @@
                     else -> {
                         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.Q) {
                             viewModel.login(myUserName, myPassword, mId)
-                            Toast.makeText(this@LoginActivity, mId, Toast.LENGTH_SHORT).show()
+//                            Toast.makeText(this@LoginActivity, mId, Toast.LENGTH_SHORT).show()
                         } else {
                             viewModel.login(myUserName, myPassword, imei)
-                            Toast.makeText(this@LoginActivity, imei, Toast.LENGTH_SHORT).show()
+//                            Toast.makeText(this@LoginActivity, imei, Toast.LENGTH_SHORT).show()
                         }
                     }
                 }
Index: .idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleMigrationSettings\" migrationVersion=\"1\" />\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"GRADLE\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/gradle.xml b/.idea/gradle.xml
--- a/.idea/gradle.xml	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/.idea/gradle.xml	(date 1678603890808)
@@ -7,6 +7,7 @@
         <option name="testRunner" value="GRADLE" />
         <option name="distributionType" value="DEFAULT_WRAPPED" />
         <option name="externalProjectPath" value="$PROJECT_DIR$" />
+        <option name="gradleJvm" value="Embedded JDK" />
         <option name="modules">
           <set>
             <option value="$PROJECT_DIR$" />
Index: app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanLemburFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.fragment\r\n\r\nimport android.os.Bundle\r\nimport android.text.format.DateFormat\r\nimport android.view.*\r\nimport android.widget.TextView\r\nimport androidx.fragment.app.Fragment\r\nimport android.widget.Toast\r\nimport androidx.appcompat.widget.Toolbar\r\nimport androidx.fragment.app.viewModels\r\nimport com.example.dsmabsen.R\r\nimport com.example.dsmabsen.databinding.FragmentPengajuanLemburBinding\r\nimport com.example.dsmabsen.helper.handleApiError\r\nimport com.example.dsmabsen.model.DataX\r\nimport com.example.dsmabsen.repository.NetworkResult\r\nimport com.example.dsmabsen.ui.viewModel.AttendanceViewModel\r\nimport com.example.dsmabsen.ui.viewModel.HomeViewModel\r\nimport com.google.android.material.datepicker.MaterialDatePicker\r\nimport com.google.android.material.timepicker.MaterialTimePicker\r\nimport com.google.android.material.timepicker.TimeFormat\r\nimport dagger.hilt.android.AndroidEntryPoint\r\nimport io.paperdb.Paper\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\n\r\n@AndroidEntryPoint\r\nclass PengajuanLemburFragment :\r\n    BaseFragment<FragmentPengajuanLemburBinding>(FragmentPengajuanLemburBinding::inflate) {\r\n\r\n    private val viewModel: AttendanceViewModel by viewModels()\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        with(binding) {\r\n            val savedUser = Paper.book().read<DataX>(\"user\")\r\n            tanggalPenggajuan.setOnClickListener {\r\n                openCalendar()\r\n            }\r\n\r\n            jamMulai.setOnClickListener {\r\n                openTimePickerFrom()\r\n            }\r\n\r\n            jamSelesai.setOnClickListener {\r\n                openTimePickerUntil()\r\n            }\r\n\r\n            btnSend.setOnClickListener {\r\n                viewModel.requestPengajuanLembur(\r\n                    savedUser!!.nip,\r\n                    jamMulai.text.toString(),\r\n                    jamSelesai.text.toString(),\r\n                    \"\",\r\n                    tanggalPenggajuan.text.toString(),\r\n                    keteranganPenggajuan.text.toString()\r\n                )\r\n                viewModel.pengajuanLemburLiveData.observe(viewLifecycleOwner) {\r\n                    when (it) {\r\n                        is NetworkResult.Success -> {\r\n                            val response = it.data!!\r\n                            val status = response.status\r\n                            val statusPengajuan = response.data.status\r\n                            if (status && statusPengajuan) {\r\n                                Toast.makeText(\r\n                                    requireContext(),\r\n                                    \"Berhasil Mengajukan Lembur\",\r\n                                    Toast.LENGTH_SHORT\r\n                                ).show()\r\n                            } else {\r\n                                Toast.makeText(\r\n                                    requireContext(),\r\n                                    response.data.messages,\r\n                                    Toast.LENGTH_SHORT\r\n                                ).show()\r\n                            }\r\n                        }\r\n\r\n                        is NetworkResult.Loading -> {\r\n                            Toast.makeText(requireContext(), \"Loading\", Toast.LENGTH_SHORT).show()\r\n                        }\r\n\r\n                        is NetworkResult.Error -> {\r\n                            handleApiError(it.message)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        setHasOptionsMenu(true)\r\n        setupToolbar(\"Ajukan Lembur\")\r\n        view.findViewById<Toolbar>(R.id.toolbar)?.let { toolbar ->\r\n            toolbar.setOnMenuItemClickListener { menuItem ->\r\n                when (menuItem.itemId) {\r\n                    R.id.save -> {\r\n                        // Handle add menu item click\r\n//                        saveReimbursement(savedUser)\r\n                        true\r\n                    }\r\n\r\n                    else -> false\r\n                }\r\n            }\r\n        }\r\n    }\r\n    override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\r\n        inflater.inflate(R.menu.toolbar_menu, menu)\r\n        val menuSave = menu.findItem(R.id.save)\r\n        val menuPlus = menu.findItem(R.id.add)\r\n\r\n        menuSave?.isVisible = true // menyembunyikan menu tertentu\r\n        menuPlus?.isVisible = false // menyembunyikan menu tertentu\r\n\r\n        val item = menu.findItem(R.id.save)\r\n        item.setActionView(R.layout.item_menu_toolbar)\r\n\r\n        val actionView = item.actionView\r\n        val btnSimpan = actionView?.findViewById<TextView>(R.id.textSimpan)\r\n        btnSimpan?.setOnClickListener {\r\n            // your code here\r\n//            saveReimbursement(savedUser)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private fun openCalendar() {\r\n        val datePicker = MaterialDatePicker.Builder\r\n            .datePicker()\r\n            .setTitleText(\"\")\r\n            .build()\r\n        datePicker.show(childFragmentManager, \"DatePicker\")\r\n\r\n        datePicker.addOnPositiveButtonClickListener {\r\n            val dateFormatter = SimpleDateFormat(\"dd-MM-yyyy\")\r\n            val date = dateFormatter.format(Date(it))\r\n            binding.tanggalPenggajuan.text = date\r\n            Toast.makeText(requireContext(), \"$date is selected\", Toast.LENGTH_LONG).show()\r\n\r\n        }\r\n\r\n        datePicker.addOnNegativeButtonClickListener {\r\n            Toast.makeText(\r\n                requireContext(),\r\n                \"${datePicker.headerText} is cancelled\",\r\n                Toast.LENGTH_LONG\r\n            ).show()\r\n        }\r\n\r\n        datePicker.addOnCancelListener {\r\n            Toast.makeText(requireContext(), \"Date Picker Cancelled\", Toast.LENGTH_LONG).show()\r\n        }\r\n    }\r\n\r\n    private fun openTimePickerFrom() {\r\n        val isSystem24Hour = DateFormat.is24HourFormat(requireContext())\r\n        val clockFormat = if (isSystem24Hour) TimeFormat.CLOCK_24H else TimeFormat.CLOCK_12H\r\n\r\n        val picker = MaterialTimePicker.Builder()\r\n            .setTimeFormat(clockFormat)\r\n            .setHour(8)\r\n            .setMinute(0)\r\n            .setTitleText(\"\")\r\n            .build()\r\n        picker.show(childFragmentManager, \"MyTag\")\r\n\r\n        picker.addOnPositiveButtonClickListener {\r\n            val h = picker.hour\r\n            val m = picker.minute\r\n            binding.jamMulai.text = \"$h:$m\"\r\n        }\r\n    }\r\n\r\n    private fun openTimePickerUntil() {\r\n        val isSystem24Hour = DateFormat.is24HourFormat(requireContext())\r\n        val clockFormat = if (isSystem24Hour) TimeFormat.CLOCK_24H else TimeFormat.CLOCK_12H\r\n\r\n        val picker = MaterialTimePicker.Builder()\r\n            .setTimeFormat(clockFormat)\r\n            .setHour(8)\r\n            .setMinute(0)\r\n            .setTitleText(\"\")\r\n            .build()\r\n        picker.show(childFragmentManager, \"MyTag\")\r\n\r\n        picker.addOnPositiveButtonClickListener {\r\n            val h = picker.hour\r\n            val m = picker.minute\r\n            binding.jamSelesai.text = \"$h:$m\"\r\n        }\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanLemburFragment.kt b/app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanLemburFragment.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanLemburFragment.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/fragment/PengajuanLemburFragment.kt	(date 1678603756542)
@@ -109,8 +109,8 @@
         val menuSave = menu.findItem(R.id.save)
         val menuPlus = menu.findItem(R.id.add)
 
-        menuSave?.isVisible = true // menyembunyikan menu tertentu
-        menuPlus?.isVisible = false // menyembunyikan menu tertentu
+        menuSave?.isVisible = false // menyembunyikan menu tertentu
+        menuPlus?.isVisible = true // menyembunyikan menu tertentu
 
         val item = menu.findItem(R.id.save)
         item.setActionView(R.layout.item_menu_toolbar)
@@ -119,9 +119,26 @@
         val btnSimpan = actionView?.findViewById<TextView>(R.id.textSimpan)
         btnSimpan?.setOnClickListener {
             // your code here
-//            saveReimbursement(savedUser)
+            Toast.makeText(context, "Save di Click", Toast.LENGTH_SHORT).show()
+        }
+
+    }
 
+    override fun onOptionsItemSelected(item: MenuItem): Boolean {
+        when (item.itemId) {
+            R.id.add -> {
+                // Handle add menu item click
+                Toast.makeText(context, "Add di Click", Toast.LENGTH_SHORT).show()
+                return true
+            }
+            R.id.save -> {
+                // Handle navigation button click
+                Toast.makeText(context, "Save di Click", Toast.LENGTH_SHORT).show()
+                return true
+            }
         }
+        return super.onOptionsItemSelected(item)
+
 
     }
 
@@ -136,7 +153,7 @@
             val dateFormatter = SimpleDateFormat("dd-MM-yyyy")
             val date = dateFormatter.format(Date(it))
             binding.tanggalPenggajuan.text = date
-            Toast.makeText(requireContext(), "$date is selected", Toast.LENGTH_LONG).show()
+
 
         }
 
@@ -166,8 +183,8 @@
         picker.show(childFragmentManager, "MyTag")
 
         picker.addOnPositiveButtonClickListener {
-            val h = picker.hour
-            val m = picker.minute
+            val h = if (picker.hour < 10) "0${picker.hour}" else picker.hour
+            val m = if (picker.minute < 10) "0${picker.minute}" else picker.minute
             binding.jamMulai.text = "$h:$m"
         }
     }
@@ -185,10 +202,11 @@
         picker.show(childFragmentManager, "MyTag")
 
         picker.addOnPositiveButtonClickListener {
-            val h = picker.hour
-            val m = picker.minute
+            val h = if (picker.hour < 10) "0${picker.hour}" else picker.hour
+            val m = if (picker.minute < 10) "0${picker.minute}" else picker.minute
             binding.jamSelesai.text = "$h:$m"
         }
+
     }
 
 
Index: app/src/main/res/layout/fragment_attendance.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@drawable/gradiend_background\"\r\n    tools:context=\".ui.fragment.AttendanceFragment\">\r\n\r\n    <include\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:id=\"@+id/toolbar\"\r\n        layout=\"@layout/toolbar_layout\" />\r\n\r\n    <include\r\n        android:id=\"@+id/loadingInclude\"\r\n        layout=\"@layout/loading\" />\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/toolbar\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:padding=\"@dimen/_20sdp\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"300dp\">\r\n\r\n            <com.google.android.material.card.MaterialCardView\r\n                android:id=\"@+id/materialCardView19\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"@dimen/_20sdp\"\r\n                android:visibility=\"visible\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                tools:layout_editor_absoluteX=\"0dp\">\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:padding=\"@dimen/_15sdp\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/imageView22\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:src=\"@drawable/ic_circle_location\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\"\r\n                        tools:layout_editor_absoluteX=\"19dp\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/lattitudeUser\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"@dimen/_10sdp\"\r\n                        android:background=\"@drawable/bg_blue_text_rounded\"\r\n                        android:fontFamily=\"@font/poppins_medium\"\r\n                        android:paddingHorizontal=\"@dimen/_19sdp\"\r\n                        android:paddingVertical=\"@dimen/_3sdp\"\r\n                        android:text=\"Lat : -177.121231\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"@dimen/_9ssp\"\r\n                        app:layout_constraintEnd_toStartOf=\"@+id/longitudeUser\"\r\n                        app:layout_constraintHorizontal_bias=\"0.5\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/imageView22\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/longitudeUser\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"@dimen/_10sdp\"\r\n                        android:background=\"@drawable/bg_pink_text_rounded\"\r\n                        android:fontFamily=\"@font/poppins_medium\"\r\n                        android:paddingHorizontal=\"@dimen/_19sdp\"\r\n                        android:paddingVertical=\"@dimen/_3sdp\"\r\n                        android:text=\"Lat : -177.121231\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"@dimen/_9ssp\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\"\r\n                        app:layout_constraintHorizontal_bias=\"0.5\"\r\n                        app:layout_constraintStart_toEndOf=\"@+id/lattitudeUser\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/imageView22\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/currentLocation\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"@dimen/_10sdp\"\r\n                        android:fontFamily=\"@font/poppins_light\"\r\n                        android:text=\"Lokasi \"\r\n                        android:textAlignment=\"center\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"@dimen/_10ssp\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/lattitudeUser\"\r\n                        tools:layout_editor_absoluteX=\"144dp\" />\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n            </com.google.android.material.card.MaterialCardView>\r\n\r\n            <com.google.android.material.card.MaterialCardView\r\n                android:id=\"@+id/materialCardView20\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"@dimen/_15sdp\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/materialCardView19\"\r\n                tools:layout_editor_absoluteX=\"26dp\">\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:padding=\"@dimen/_10sdp\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/textView46\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:fontFamily=\"@font/poppins_bold\"\r\n                        android:text=\"10:00:32\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"@dimen/_40ssp\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\"\r\n                        tools:layout_editor_absoluteX=\"13dp\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/textView45\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:background=\"@drawable/gradiend_background\"\r\n                        android:paddingHorizontal=\"@dimen/_12sdp\"\r\n                        android:text=\"02\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintEnd_toStartOf=\"@+id/textView47\"\r\n                        app:layout_constraintHorizontal_bias=\"0.5\"\r\n                        app:layout_constraintHorizontal_chainStyle=\"packed\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/textView46\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/textView47\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginHorizontal=\"@dimen/_3sdp\"\r\n                        android:background=\"@drawable/gradiend_background\"\r\n                        android:paddingHorizontal=\"@dimen/_12sdp\"\r\n                        android:text=\"02\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintEnd_toStartOf=\"@+id/textView48\"\r\n                        app:layout_constraintHorizontal_bias=\"0.5\"\r\n                        app:layout_constraintStart_toEndOf=\"@+id/textView45\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/textView46\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/textView48\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:background=\"@drawable/gradiend_background\"\r\n                        android:paddingHorizontal=\"@dimen/_12sdp\"\r\n                        android:text=\"2023\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\"\r\n                        app:layout_constraintHorizontal_bias=\"0.5\"\r\n                        app:layout_constraintStart_toEndOf=\"@+id/textView47\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/textView46\" />\r\n\r\n\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n            </com.google.android.material.card.MaterialCardView>\r\n\r\n            <com.google.android.material.card.MaterialCardView\r\n                android:id=\"@+id/materialCardView21\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"@dimen/_15sdp\"\r\n                android:visibility=\"invisible\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/materialCardView20\"\r\n                tools:layout_editor_absoluteX=\"26dp\">\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=\"@+id/informationLayout\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:background=\"@color/_danger\"\r\n                    android:paddingHorizontal=\"@dimen/_40sdp\"\r\n                    android:paddingVertical=\"@dimen/_7sdp\"\r\n                    android:visibility=\"invisible\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/notificationUser\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:fontFamily=\"@font/open_sans_regular\"\r\n                        android:text=\"Gagal Absen, lokasi anda tidak di temukan,\r\nSilahkan Hubungi Admin\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"@dimen/_10ssp\"\r\n                        android:visibility=\"invisible\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\"\r\n                        tools:layout_editor_absoluteX=\"52dp\" />\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n            </com.google.android.material.card.MaterialCardView>\r\n\r\n\r\n            <ImageView\r\n                android:id=\"@+id/btn_absen\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"100dp\"\r\n                android:src=\"@drawable/finger_white\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/materialCardView21\"/>\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </ScrollView>\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_attendance.xml b/app/src/main/res/layout/fragment_attendance.xml
--- a/app/src/main/res/layout/fragment_attendance.xml	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/res/layout/fragment_attendance.xml	(date 1678603890843)
@@ -1,5 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
-<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<androidx.constraintlayout.widget.ConstraintLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
Index: app/src/main/java/com/example/dsmabsen/model/DataXXXXXXXXXX.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.model\r\n\r\ndata class DataXXXXXXXXXX(\r\n    val absen: String?,\r\n    val status: Int?,\r\n    val tanggal: String?\r\n)
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/model/DataXXXXXXXXXX.kt b/app/src/main/java/com/example/dsmabsen/model/DataXXXXXXXXXX.kt
--- a/app/src/main/java/com/example/dsmabsen/model/DataXXXXXXXXXX.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/model/DataXXXXXXXXXX.kt	(date 1678603890853)
@@ -1,7 +1,7 @@
 package com.example.dsmabsen.model
 
 data class DataXXXXXXXXXX(
-    val absen: String?,
-    val status: Int?,
-    val tanggal: String?
+    val absen: String,
+    val status: Int,
+    val tanggal: String
 )
\ No newline at end of file
Index: app/src/main/java/com/example/dsmabsen/model/RiwayatPresensi.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.model\r\n\r\ndata class RiwayatPresensi(\r\n    val `data`: List<DataXXXXXXXXXX>,\r\n    val message: String,\r\n    val status: Boolean\r\n)
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/model/RiwayatPresensi.kt b/app/src/main/java/com/example/dsmabsen/model/RiwayatPresensi.kt
--- a/app/src/main/java/com/example/dsmabsen/model/RiwayatPresensi.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/model/RiwayatPresensi.kt	(date 1678603890862)
@@ -1,7 +1,7 @@
 package com.example.dsmabsen.model
 
 data class RiwayatPresensi(
-    val `data`: List<DataXXXXXXXXXX>,
+    val status: Boolean,
     val message: String,
-    val status: Boolean
+    val `data`: List<DataXXXXXXXXXX>
 )
\ No newline at end of file
Index: app/src/main/java/com/example/dsmabsen/ui/viewModel/AttendanceViewModel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.viewModel\r\n\r\nimport androidx.lifecycle.LiveData\r\nimport androidx.lifecycle.MutableLiveData\r\nimport androidx.lifecycle.ViewModel\r\nimport androidx.lifecycle.viewModelScope\r\nimport com.example.dsmabsen.model.*\r\nimport com.example.dsmabsen.repository.AttendanceRepository\r\nimport com.example.dsmabsen.repository.NetworkResult\r\nimport dagger.hilt.android.lifecycle.HiltViewModel\r\nimport kotlinx.coroutines.launch\r\nimport okhttp3.MultipartBody\r\nimport okhttp3.RequestBody\r\nimport xyz.teamgravity.checkinternet.CheckInternet\r\nimport javax.inject.Inject\r\n\r\n@HiltViewModel\r\nclass AttendanceViewModel @Inject constructor(private val repository: AttendanceRepository) :\r\n    ViewModel() {\r\n    private var _isDataLoaded = false\r\n\r\n    private val _totalAttendance = MutableLiveData<NetworkResult<TotalAttendance>>()\r\n    val totalAttendanceLiveData: LiveData<NetworkResult<TotalAttendance>> = _totalAttendance\r\n\r\n    private val _attendanceHistory = MutableLiveData<NetworkResult<List<DataXXXXXXXXXX>>>()\r\n    val attendanceHistoryLiveData: LiveData<NetworkResult<List<DataXXXXXXXXXX>>> =\r\n        _attendanceHistory\r\n\r\n    private val _attendanceToday = MutableLiveData<NetworkResult<Presensi>>()\r\n    val attendanceTodayLiveData: LiveData<NetworkResult<Presensi>> = _attendanceToday\r\n\r\n    private val _getSallary = MutableLiveData<NetworkResult<DataSallary>>()\r\n    val getSallaryLiveData: LiveData<NetworkResult<DataSallary>> = _getSallary\r\n\r\n    private val _getListLembur = MutableLiveData<NetworkResult<DataLembur>>()\r\n    val getListLemburLiveData: LiveData<NetworkResult<DataLembur>> = _getListLembur\r\n\r\n    private val _pengajuanLembur = MutableLiveData<NetworkResult<PengajuanLembur>>()\r\n    val pengajuanLemburLiveData: LiveData<NetworkResult<PengajuanLembur>> = _pengajuanLembur\r\n\r\n    fun attendanceTotalRequest(nip: String) {\r\n        viewModelScope.launch {\r\n            val connected = CheckInternet().check()\r\n            if (connected) {\r\n                _totalAttendance.postValue(NetworkResult.Loading())\r\n                _totalAttendance.postValue(repository.attendanceTotal(nip))\r\n\r\n            } else\r\n                _totalAttendance.postValue(NetworkResult.Error(\"No Internet Connection\"))\r\n        }\r\n    }\r\n\r\n    fun requestSallary(nip: String) {\r\n        viewModelScope.launch {\r\n            val connected = CheckInternet().check()\r\n            if (connected) {\r\n                _getSallary.postValue(NetworkResult.Loading())\r\n                _getSallary.postValue(repository.getSallary(nip))\r\n\r\n            } else\r\n                _getSallary.postValue(NetworkResult.Error(\"No Internet Connection\"))\r\n        }\r\n    }\r\n\r\n    fun requestListLembur(nip: String) {\r\n        viewModelScope.launch {\r\n            val connected = CheckInternet().check()\r\n            if (connected) {\r\n                _getListLembur.postValue(NetworkResult.Loading())\r\n                _getListLembur.postValue(repository.getListLembur(nip))\r\n\r\n            } else\r\n                _getListLembur.postValue(NetworkResult.Error(\"No Internet Connection\"))\r\n        }\r\n    }\r\n\r\n    fun requestPengajuanLembur(\r\n        nip: String,\r\n        jam_mulai: String,\r\n        jam_selesai: String,\r\n        file: String,\r\n        tanggal: String,\r\n        keterangan: String\r\n    ) {\r\n        viewModelScope.launch {\r\n            val connected = CheckInternet().check()\r\n            if (connected) {\r\n                _pengajuanLembur.postValue(NetworkResult.Loading())\r\n                _pengajuanLembur.postValue(\r\n                    repository.pengajuanLembur(\r\n                        nip,\r\n                        jam_mulai,\r\n                        jam_selesai,\r\n                        file,\r\n                        tanggal,\r\n                        keterangan\r\n                    )\r\n                )\r\n\r\n            } else\r\n                _pengajuanLembur.postValue(NetworkResult.Error(\"No Internet Connection\"))\r\n        }\r\n    }\r\n\r\n    fun attendanceHistoryRequest(nip: String) {\r\n        viewModelScope.launch {\r\n//            val connected = CheckInternet().check()\r\n//            if (connected) {\r\n            if (!_isDataLoaded) {\r\n                _attendanceHistory.postValue(repository.attendanceHistory(nip))\r\n                _attendanceHistory.postValue(NetworkResult.Loading())\r\n            }\r\n//            } else\r\n//                _attendanceHistory.postValue(NetworkResult.Error(\"No Internet Connection\"))\r\n        }\r\n\r\n    }\r\n\r\n    fun attendanceToday(\r\n//        data:RequestAbsen\r\n        image: MultipartBody.Part,\r\n        nip: RequestBody,\r\n        date: RequestBody,\r\n        timezone: RequestBody,\r\n        kordinat: RequestBody,\r\n        kode_shift: RequestBody,\r\n        kode_tingkat: RequestBody\r\n    ) {\r\n        viewModelScope.launch {\r\n            if (!_isDataLoaded) {\r\n                _attendanceToday.postValue(\r\n                    repository.attendanceToday(\r\n                        image, nip, date, timezone, kordinat, kode_shift, kode_tingkat\r\n                    )\r\n                )\r\n                _attendanceToday.postValue(NetworkResult.Loading())\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/viewModel/AttendanceViewModel.kt b/app/src/main/java/com/example/dsmabsen/ui/viewModel/AttendanceViewModel.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/viewModel/AttendanceViewModel.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/viewModel/AttendanceViewModel.kt	(date 1678603890875)
@@ -1,5 +1,7 @@
 package com.example.dsmabsen.ui.viewModel
 
+import android.content.Context
+import android.widget.Toast
 import androidx.lifecycle.LiveData
 import androidx.lifecycle.MutableLiveData
 import androidx.lifecycle.ViewModel
@@ -22,9 +24,13 @@
     private val _totalAttendance = MutableLiveData<NetworkResult<TotalAttendance>>()
     val totalAttendanceLiveData: LiveData<NetworkResult<TotalAttendance>> = _totalAttendance
 
-    private val _attendanceHistory = MutableLiveData<NetworkResult<List<DataXXXXXXXXXX>>>()
-    val attendanceHistoryLiveData: LiveData<NetworkResult<List<DataXXXXXXXXXX>>> =
-        _attendanceHistory
+    private val _attendanceHistory = MutableLiveData<NetworkResult<ResponseRiwayat>>()
+    val attendanceHistoryLiveData: LiveData<NetworkResult<ResponseRiwayat>>
+        get() = _attendanceHistory
+
+    private val _attendanceHistoryLiveData = MutableLiveData<NetworkResult<ResponseRiwayat>>()
+    val attendanceHistoryLiveData2: LiveData<NetworkResult<ResponseRiwayat>>
+        get() = _attendanceHistoryLiveData
 
     private val _attendanceToday = MutableLiveData<NetworkResult<Presensi>>()
     val attendanceTodayLiveData: LiveData<NetworkResult<Presensi>> = _attendanceToday
@@ -38,6 +44,13 @@
     private val _pengajuanLembur = MutableLiveData<NetworkResult<PengajuanLembur>>()
     val pengajuanLemburLiveData: LiveData<NetworkResult<PengajuanLembur>> = _pengajuanLembur
 
+    fun attendanceHistoryRequest2(nip: String) {
+        viewModelScope.launch {
+            _attendanceHistoryLiveData.value = NetworkResult.Loading()
+            _attendanceHistoryLiveData.value = repository.getAttendanceHistory(nip)
+        }
+    }
+
     fun attendanceTotalRequest(nip: String) {
         viewModelScope.launch {
             val connected = CheckInternet().check()
@@ -104,14 +117,11 @@
 
     fun attendanceHistoryRequest(nip: String) {
         viewModelScope.launch {
-//            val connected = CheckInternet().check()
-//            if (connected) {
+
             if (!_isDataLoaded) {
                 _attendanceHistory.postValue(repository.attendanceHistory(nip))
                 _attendanceHistory.postValue(NetworkResult.Loading())
             }
-//            } else
-//                _attendanceHistory.postValue(NetworkResult.Error("No Internet Connection"))
         }
 
     }
Index: app/src/main/java/com/example/dsmabsen/ui/fragment/LemburFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.fragment\r\n\r\nimport android.os.Bundle\r\nimport android.view.*\r\nimport android.widget.TextView\r\nimport androidx.fragment.app.Fragment\r\nimport android.widget.Toast\r\nimport androidx.appcompat.widget.Toolbar\r\nimport androidx.fragment.app.viewModels\r\nimport androidx.navigation.fragment.findNavController\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.dsmabsen.R\r\nimport com.example.dsmabsen.adapter.LemburAdapter\r\nimport com.example.dsmabsen.adapter.SallaryAdapter\r\nimport com.example.dsmabsen.databinding.FragmentLemburBinding\r\nimport com.example.dsmabsen.helper.handleApiError\r\nimport com.example.dsmabsen.model.DataX\r\nimport com.example.dsmabsen.repository.NetworkResult\r\nimport com.example.dsmabsen.ui.viewModel.AttendanceViewModel\r\nimport com.example.dsmabsen.ui.viewModel.HomeViewModel\r\nimport dagger.hilt.android.AndroidEntryPoint\r\nimport io.paperdb.Paper\r\n\r\n@AndroidEntryPoint\r\nclass LemburFragment : BaseFragment<FragmentLemburBinding>(FragmentLemburBinding::inflate) {\r\n\r\n    private val viewModel: AttendanceViewModel by viewModels()\r\n    private lateinit var adapter: LemburAdapter\r\n    private lateinit var recyclerView: RecyclerView\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        setHasOptionsMenu(true)\r\n        setupToolbar(\"Lembur\")\r\n        view.findViewById<Toolbar>(R.id.toolbar)?.let { toolbar ->\r\n            toolbar.setOnMenuItemClickListener { menuItem ->\r\n                when (menuItem.itemId) {\r\n                    R.id.save -> {\r\n                        // Handle add menu item click\r\n//                        saveReimbursement(savedUser)\r\n                        true\r\n                    }\r\n\r\n                    else -> false\r\n                }\r\n            }\r\n        }\r\n        with(binding) {\r\n\r\n            val savedUser = Paper.book().read<DataX>(\"user\")\r\n\r\n//            ajukanLembur.setOnClickListener {\r\n//                findNavController().navigate(R.id.action_lemburFragment_to_pengajuanLemburFragment)\r\n//            }\r\n            adapter = LemburAdapter(requireContext())\r\n            recyclerView = reclembur\r\n            recyclerView.adapter = adapter\r\n            recyclerView.layoutManager = LinearLayoutManager(requireContext())\r\n            recyclerView.setHasFixedSize(true)\r\n\r\n            viewModel.requestListLembur(savedUser!!.nip)\r\n            viewModel.getListLemburLiveData.observe(viewLifecycleOwner) {\r\n                when (it) {\r\n                    is NetworkResult.Success -> {\r\n                        val response = it.data!!\r\n                        val status = response.status\r\n                        if (status) {\r\n                            adapter.differ.submitList(response.data.data)\r\n                        } else {\r\n                            Toast.makeText(requireContext(), \"Status false\", Toast.LENGTH_SHORT).show()\r\n                        }\r\n                    }\r\n\r\n                    is NetworkResult.Loading -> {\r\n                        Toast.makeText(requireContext(), \"Loading\", Toast.LENGTH_SHORT).show()\r\n                    }\r\n\r\n                    is NetworkResult.Error -> {\r\n                        handleApiError(it.message)\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\r\n        inflater.inflate(R.menu.toolbar_menu, menu)\r\n        val menuSave = menu.findItem(R.id.save)\r\n        val menuPlus = menu.findItem(R.id.add)\r\n\r\n        menuSave?.isVisible = true // menyembunyikan menu tertentu\r\n        menuPlus?.isVisible = false // menyembunyikan menu tertentu\r\n\r\n        val item = menu.findItem(R.id.save)\r\n        item.setActionView(R.layout.item_menu_toolbar)\r\n\r\n        val actionView = item.actionView\r\n        val btnSimpan = actionView?.findViewById<TextView>(R.id.textSimpan)\r\n        btnSimpan?.setOnClickListener {\r\n            // your code here\r\n//            saveReimbursement(savedUser)\r\n\r\n        }\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/fragment/LemburFragment.kt b/app/src/main/java/com/example/dsmabsen/ui/fragment/LemburFragment.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/fragment/LemburFragment.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/fragment/LemburFragment.kt	(date 1678603890881)
@@ -85,13 +85,15 @@
         }
 
     }
+
+
     override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {
         inflater.inflate(R.menu.toolbar_menu, menu)
         val menuSave = menu.findItem(R.id.save)
         val menuPlus = menu.findItem(R.id.add)
 
-        menuSave?.isVisible = true // menyembunyikan menu tertentu
-        menuPlus?.isVisible = false // menyembunyikan menu tertentu
+        menuSave?.isVisible = false // menyembunyikan menu tertentu
+        menuPlus?.isVisible = true // menyembunyikan menu tertentu
 
         val item = menu.findItem(R.id.save)
         item.setActionView(R.layout.item_menu_toolbar)
@@ -100,10 +102,37 @@
         val btnSimpan = actionView?.findViewById<TextView>(R.id.textSimpan)
         btnSimpan?.setOnClickListener {
             // your code here
-//            saveReimbursement(savedUser)
+            Toast.makeText(context, "Save di Click", Toast.LENGTH_SHORT).show()
+        }
+
+    }
+
+    override fun onOptionsItemSelected(item: MenuItem): Boolean {
+        when (item.itemId) {
+            R.id.add -> {
+                // Handle add menu item click
+                Toast.makeText(context, "Add di Click", Toast.LENGTH_SHORT).show()
+                return true
+            }
+            R.id.save -> {
+                // Handle navigation button click
+                Toast.makeText(context, "Save di Click", Toast.LENGTH_SHORT).show()
+                return true
+            }
+        }
+        return super.onOptionsItemSelected(item)
+
+    }
+
+    override fun setupToolbar(title: String) {
+        super.setupToolbar(title)
 
-        }
+    }
 
+    override fun setHasOptionsMenu(hasMenu: Boolean) {
+        super.setHasOptionsMenu(hasMenu)
     }
 
+
+
 }
\ No newline at end of file
Index: app/src/main/java/com/example/dsmabsen/repository/ReimbursementRepository.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.repository\r\n\r\nimport com.example.dsmabsen.network.ReimbursementApi\r\nimport com.example.dsmabsen.network.UserProfileApi\r\nimport retrofit2.http.Field\r\nimport javax.inject.Inject\r\n\r\nclass ReimbursementRepository @Inject constructor(private val api: ReimbursementApi) :\r\n    BaseRepository() {\r\n\r\n    suspend fun getListReimbursement(nip: String) =\r\n        safeApiCall {\r\n            api.getListReimbursement(nip)\r\n        }\r\n\r\n    suspend fun pengajuanReimbursement(nip: String,\r\n                                       kode_reimbursement: String,\r\n                                       nilai: String,\r\n                                       file: String,\r\n                                       keterangan: String) =\r\n        safeApiCall {\r\n            api.pengajuanReimbursement(nip, kode_reimbursement, nilai, file, keterangan)\r\n        }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/repository/ReimbursementRepository.kt b/app/src/main/java/com/example/dsmabsen/repository/ReimbursementRepository.kt
--- a/app/src/main/java/com/example/dsmabsen/repository/ReimbursementRepository.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/repository/ReimbursementRepository.kt	(date 1678603756549)
@@ -21,4 +21,9 @@
         safeApiCall {
             api.pengajuanReimbursement(nip, kode_reimbursement, nilai, file, keterangan)
         }
+
+    suspend fun spinnerReimbursement() =
+        safeApiCall {
+            api.spinnerReimbursement()
+        }
 }
\ No newline at end of file
Index: app/src/main/java/com/example/dsmabsen/ui/fragment/DataAbsenFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.ui.fragment\r\n\r\nimport android.graphics.Color\r\nimport android.graphics.Typeface\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.Menu\r\nimport android.view.MenuInflater\r\nimport android.view.View\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport androidx.core.content.ContextCompat\r\nimport androidx.core.view.isVisible\r\nimport androidx.fragment.app.viewModels\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.dsmabsen.R\r\nimport com.example.dsmabsen.adapter.AttendanceAdapter\r\nimport com.example.dsmabsen.databinding.FragmentDataAbsenBinding\r\nimport com.example.dsmabsen.helper.TokenManager\r\nimport com.example.dsmabsen.helper.handleApiError\r\nimport com.example.dsmabsen.model.DataX\r\nimport com.example.dsmabsen.model.DataXX\r\nimport com.example.dsmabsen.repository.NetworkResult\r\nimport com.example.dsmabsen.ui.viewModel.AttendanceViewModel\r\nimport com.github.mikephil.charting.data.PieData\r\nimport com.github.mikephil.charting.data.PieDataSet\r\nimport com.github.mikephil.charting.data.PieEntry\r\nimport com.github.mikephil.charting.formatter.PercentFormatter\r\nimport com.github.mikephil.charting.formatter.ValueFormatter\r\nimport dagger.hilt.android.AndroidEntryPoint\r\nimport io.paperdb.Paper\r\nimport javax.inject.Inject\r\n\r\n@AndroidEntryPoint\r\nclass DataAbsenFragment :\r\n    BaseFragment<FragmentDataAbsenBinding>(FragmentDataAbsenBinding::inflate) {\r\n\r\n    private val viewModel: AttendanceViewModel by viewModels()\r\n\r\n    @Inject\r\n    lateinit var tokenManager: TokenManager\r\n\r\n    private lateinit var adapter: AttendanceAdapter\r\n    private lateinit var recyclerView: RecyclerView\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n\r\n        binding.apply {\r\n\r\n            adapter = AttendanceAdapter(requireContext())\r\n            recyclerView = recAttendance\r\n            recyclerView.adapter = adapter\r\n            recyclerView.layoutManager = LinearLayoutManager(requireContext())\r\n            recyclerView.setHasFixedSize(true)\r\n            Toast.makeText(requireContext(), \"Mecoba Ambil data\", Toast.LENGTH_SHORT).show()\r\n\r\n            val savedUser = Paper.book().read<DataX>(\"user\")\r\n            viewModel.attendanceHistoryRequest(savedUser!!.nip)\r\n            viewModel.attendanceHistoryLiveData.observe(viewLifecycleOwner) {\r\n                Toast.makeText(requireContext(), \"Masuk Viemodel\", Toast.LENGTH_SHORT).show()\r\n\r\n                when (it) {\r\n                    is NetworkResult.Success -> {\r\n                        binding.loading.isVisible = false\r\n\r\n                        val attendance = it.data!!\r\n                        Toast.makeText(requireContext(), \"$attendance disini\", Toast.LENGTH_SHORT)\r\n                            .show()\r\n                        Log.d(\"data_absen\",attendance.toString())\r\n                        if(attendance.isEmpty()){\r\n                            binding.recAttendance.visibility = View.GONE\r\n                            binding.imgNoData.visibility = View.VISIBLE\r\n                        }else{\r\n\r\n                            adapter.differ.submitList(attendance)\r\n                            binding.recAttendance.visibility = View.VISIBLE\r\n                            binding.imgNoData.visibility = View.GONE\r\n                        }\r\n                        Toast.makeText(requireContext(), \"Set Adabter Suskes\", Toast.LENGTH_SHORT)\r\n\r\n\r\n                    }\r\n\r\n                    is NetworkResult.Loading -> {\r\n\r\n                        Toast.makeText(requireContext(), \"Sedang proses\", Toast.LENGTH_SHORT).show()\r\n                    }\r\n\r\n                    is NetworkResult.Error -> {\r\n                        Toast.makeText(requireContext(), \"Set Adabter Error\", Toast.LENGTH_SHORT)\r\n                        handleApiError(it.message)\r\n                    }\r\n                }\r\n            }\r\n\r\n            viewModel.attendanceTotalRequest(savedUser.nip)\r\n            viewModel.totalAttendanceLiveData.observe(viewLifecycleOwner) {\r\n\r\n                when (it) {\r\n                    is NetworkResult.Success -> {\r\n//                        binding.constrain.isVisible = true\r\n//                        binding.loading.isVisible = false\r\n                        val data = it.data!!.data\r\n                        setPieChart(data)\r\n                    }\r\n\r\n                    is NetworkResult.Loading -> {\r\n//                        binding.constrain.isVisible = false\r\n//                        binding.loading.isVisible = true\r\n                        Toast.makeText(requireContext(), \"Loading\", Toast.LENGTH_SHORT).show()\r\n                    }\r\n\r\n                    is NetworkResult.Error -> {\r\n//                        binding.loading.isVisible = false\r\n                        handleApiError(it.message)\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private fun FragmentDataAbsenBinding.setPieChart(data: DataXX) {\r\n        val pieEntries = ArrayList<PieEntry>()\r\n        pieEntries.add(PieEntry(data.masuk.toFloat(), \"Masuk\"))\r\n        pieEntries.add(PieEntry(data.izin.toFloat(), \"Izin\"))\r\n        pieEntries.add(PieEntry(data.alfa.toFloat(), \"Alfa\"))\r\n        pieEntries.add(PieEntry(data.telat.toFloat(), \"Telat\"))\r\n\r\n        val colors = ArrayList<Int>()\r\n        colors.add(ContextCompat.getColor(requireContext(), R.color._success))\r\n        colors.add(ContextCompat.getColor(requireContext(), R.color._primary))\r\n        colors.add(ContextCompat.getColor(requireContext(), R.color._danger))\r\n        colors.add(ContextCompat.getColor(requireContext(), R.color._secondary))\r\n\r\n        val pieDataSet = PieDataSet(pieEntries, \"\")\r\n        pieDataSet.colors = colors\r\n        pieDataSet.sliceSpace = 1f\r\n        val boldTypeface = Typeface.defaultFromStyle(Typeface.BOLD)\r\n        pieDataSet.valueTypeface = boldTypeface\r\n\r\n        val pieData = PieData(pieDataSet)\r\n        pieData.setDrawValues(true)\r\n        pieData.setValueTextColor(Color.WHITE)\r\n        pieData.setValueFormatter(PercentFormatter())\r\n        pieData.setValueTextSize(14f)\r\n\r\n//        Atur deskripsi chart\r\n        pieChart.description.isEnabled = false\r\n        pieChart.setEntryLabelTextSize(134f)\r\n        pieChart.setExtraOffsets(5f, 10f, 5f, 5f)\r\n        pieChart.dragDecelerationFrictionCoef = 0.95f\r\n        pieChart.isDrawHoleEnabled = true\r\n        pieChart.setHoleColor(Color.WHITE)\r\n\r\n        // on below line we are setting circle color and alpha\r\n        pieChart.setTransparentCircleColor(Color.WHITE)\r\n        pieChart.setTransparentCircleAlpha(110)\r\n\r\n        // on  below line we are setting hole radius\r\n        pieChart.holeRadius = 58f\r\n        pieChart.transparentCircleRadius = 61f\r\n\r\n        // on below line we are setting center text\r\n        pieChart.setDrawCenterText(true)\r\n\r\n        pieChart.setDrawEntryLabels(false)\r\n\r\n        // Atur data yang akan ditampilkan pada chart\r\n        pieChart.data = pieData\r\n        pieChart.invalidate()\r\n\r\n        //             set value formatter\r\n        pieDataSet.valueFormatter = object : ValueFormatter() {\r\n            override fun getFormattedValue(value: Float): String {\r\n                return value.toInt().toString()\r\n            }\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/ui/fragment/DataAbsenFragment.kt b/app/src/main/java/com/example/dsmabsen/ui/fragment/DataAbsenFragment.kt
--- a/app/src/main/java/com/example/dsmabsen/ui/fragment/DataAbsenFragment.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/ui/fragment/DataAbsenFragment.kt	(date 1678604706932)
@@ -58,17 +58,13 @@
             Toast.makeText(requireContext(), "Mecoba Ambil data", Toast.LENGTH_SHORT).show()
 
             val savedUser = Paper.book().read<DataX>("user")
-            viewModel.attendanceHistoryRequest(savedUser!!.nip)
-            viewModel.attendanceHistoryLiveData.observe(viewLifecycleOwner) {
-                Toast.makeText(requireContext(), "Masuk Viemodel", Toast.LENGTH_SHORT).show()
-
+            viewModel.attendanceHistoryRequest2(savedUser!!.nip)
+            viewModel.attendanceHistoryLiveData2.observe(viewLifecycleOwner) {
                 when (it) {
                     is NetworkResult.Success -> {
                         binding.loading.isVisible = false
 
-                        val attendance = it.data!!
-                        Toast.makeText(requireContext(), "$attendance disini", Toast.LENGTH_SHORT)
-                            .show()
+                        val attendance = it.data!!.data
                         Log.d("data_absen",attendance.toString())
                         if(attendance.isEmpty()){
                             binding.recAttendance.visibility = View.GONE
Index: app/src/main/java/com/example/dsmabsen/adapter/AttendanceAdapter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.dsmabsen.adapter\r\n\r\nimport android.content.Context\r\nimport android.view.LayoutInflater\r\nimport android.view.ViewGroup\r\nimport androidx.core.content.ContextCompat\r\nimport androidx.recyclerview.widget.AsyncListDiffer\r\nimport androidx.recyclerview.widget.DiffUtil\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.dsmabsen.R\r\nimport com.example.dsmabsen.databinding.ItemRekapAbsensiBinding\r\nimport com.example.dsmabsen.helper.Helper\r\nimport com.example.dsmabsen.model.DataXXXXXXXXXX\r\n\r\nclass AttendanceAdapter(private val context: Context) :\r\n    RecyclerView.Adapter<AttendanceAdapter.ViewHolder>() {\r\n\r\n    inner class ViewHolder(private val binding: ItemRekapAbsensiBinding) :\r\n        RecyclerView.ViewHolder(binding.root) {\r\n        fun setData(item: DataXXXXXXXXXX) {\r\n            binding.apply {\r\n                with(item) {\r\n                    val newFormat = \"kk:mm:ss\"\r\n                    textView29.text = tanggal\r\n                    textView31.text = Helper().convertTanggal(absen!!, newFormat)\r\n\r\n                    if (status == 1) {\r\n                        imageView11.setImageResource(R.drawable.round_icon1)\r\n                        textView30.text = \"Check In\"\r\n                        textView31.setTextColor(ContextCompat.getColor(context, R.color._success))\r\n\r\n                    } else {\r\n                        imageView11.setBackgroundResource(R.drawable.round_icon2)\r\n                        textView30.text = \"Check out\"\r\n                        textView31.setTextColor(ContextCompat.getColor(context, R.color.danger))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) = ViewHolder(\r\n        ItemRekapAbsensiBinding.inflate(LayoutInflater.from(parent.context), parent, false)\r\n    )\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        holder.setData(differ.currentList[position])\r\n        holder.setIsRecyclable(false)\r\n    }\r\n\r\n    override fun getItemCount() = differ.currentList.size\r\n\r\n    private val differCallback = object : DiffUtil.ItemCallback<DataXXXXXXXXXX>() {\r\n        override fun areItemsTheSame(oldItem: DataXXXXXXXXXX, newItem: DataXXXXXXXXXX): Boolean {\r\n            return oldItem.absen == newItem.absen\r\n        }\r\n\r\n        override fun areContentsTheSame(oldItem: DataXXXXXXXXXX, newItem: DataXXXXXXXXXX): Boolean {\r\n            return oldItem.absen == newItem.absen\r\n        }\r\n    }\r\n\r\n    val differ = AsyncListDiffer(this, differCallback)\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/dsmabsen/adapter/AttendanceAdapter.kt b/app/src/main/java/com/example/dsmabsen/adapter/AttendanceAdapter.kt
--- a/app/src/main/java/com/example/dsmabsen/adapter/AttendanceAdapter.kt	(revision 137f15e8f52b9461bb0f075af3b8562ba0e13978)
+++ b/app/src/main/java/com/example/dsmabsen/adapter/AttendanceAdapter.kt	(date 1678603890886)
@@ -11,13 +11,14 @@
 import com.example.dsmabsen.databinding.ItemRekapAbsensiBinding
 import com.example.dsmabsen.helper.Helper
 import com.example.dsmabsen.model.DataXXXXXXXXXX
+import com.example.dsmabsen.model.DataXXXXXXXXXXXXXXXXXXXXXXXXXX
 
 class AttendanceAdapter(private val context: Context) :
     RecyclerView.Adapter<AttendanceAdapter.ViewHolder>() {
 
     inner class ViewHolder(private val binding: ItemRekapAbsensiBinding) :
         RecyclerView.ViewHolder(binding.root) {
-        fun setData(item: DataXXXXXXXXXX) {
+        fun setData(item: DataXXXXXXXXXXXXXXXXXXXXXXXXXX) {
             binding.apply {
                 with(item) {
                     val newFormat = "kk:mm:ss"
@@ -50,12 +51,12 @@
 
     override fun getItemCount() = differ.currentList.size
 
-    private val differCallback = object : DiffUtil.ItemCallback<DataXXXXXXXXXX>() {
-        override fun areItemsTheSame(oldItem: DataXXXXXXXXXX, newItem: DataXXXXXXXXXX): Boolean {
+    private val differCallback = object : DiffUtil.ItemCallback<DataXXXXXXXXXXXXXXXXXXXXXXXXXX>() {
+        override fun areItemsTheSame(oldItem: DataXXXXXXXXXXXXXXXXXXXXXXXXXX, newItem: DataXXXXXXXXXXXXXXXXXXXXXXXXXX): Boolean {
             return oldItem.absen == newItem.absen
         }
 
-        override fun areContentsTheSame(oldItem: DataXXXXXXXXXX, newItem: DataXXXXXXXXXX): Boolean {
+        override fun areContentsTheSame(oldItem: DataXXXXXXXXXXXXXXXXXXXXXXXXXX, newItem: DataXXXXXXXXXXXXXXXXXXXXXXXXXX): Boolean {
             return oldItem.absen == newItem.absen
         }
     }
